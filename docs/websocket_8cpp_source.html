<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>BitShares-Core: libraries/fc/src/network/http/websocket.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BitShares-Core
   &#160;<span id="projectnumber">5.2.0</span>
   </div>
   <div id="projectbrief">BitShares blockchain implementation and command-line interface software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_56daa494bb75cf236510b0cc285437d6.html">fc</a></li><li class="navelem"><a class="el" href="dir_cf0f4a03667f4d32017c752ae330ec36.html">src</a></li><li class="navelem"><a class="el" href="dir_c141b3ed20ae933668d075644aa49293.html">network</a></li><li class="navelem"><a class="el" href="dir_c6dfad6cb537421b66d5fff8d5eb8d1f.html">http</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">websocket.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="websocket_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="websocket_8hpp.html">fc/network/http/websocket.hpp</a>&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;websocketpp/config/asio_client.hpp&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;websocketpp/config/asio.hpp&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;websocketpp/server.hpp&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;websocketpp/config/asio_client.hpp&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;websocketpp/client.hpp&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;websocketpp/logger/stub.hpp&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifdef HAS_ZLIB</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;websocketpp/extensions/permessage_deflate/enabled.hpp&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;websocketpp/extensions/permessage_deflate/disabled.hpp&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="json_8hpp.html">fc/io/json.hpp</a>&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="optional_8hpp.html">fc/optional.hpp</a>&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="reflect_2variant_8hpp.html">fc/reflect/variant.hpp</a>&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="websocket__api_8hpp.html">fc/rpc/websocket_api.hpp</a>&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="variant_8hpp.html">fc/variant.hpp</a>&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="thread_8hpp.html">fc/thread/thread.hpp</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="asio_8hpp.html">fc/asio.hpp</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#if WIN32</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;wincrypt.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#ifdef DEFAULT_LOGGER</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor"># undef DEFAULT_LOGGER</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="websocket_8cpp.html#a8c7a288fea519c7e895518f8dff4888f">   30</a></span>&#160;<span class="preprocessor">#define DEFAULT_LOGGER &quot;rpc&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefc.html">fc</a> { <span class="keyword">namespace </span>http {</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   <span class="keyword">namespace </span>detail {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#if WIN32</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      <span class="comment">// taken from https://stackoverflow.com/questions/39772878/reliable-way-to-get-root-ca-certificates-on-windows/40710806</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">void</span> add_windows_root_certs(boost::asio::ssl::context &amp;ctx)</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;         HCERTSTORE hStore = CertOpenSystemStore( 0, <span class="stringliteral">&quot;ROOT&quot;</span> );</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;         <span class="keywordflow">if</span>( hStore == NULL )</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;         X509_STORE *store = X509_STORE_new();</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;         PCCERT_CONTEXT pContext = NULL;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;         <span class="keywordflow">while</span>( (pContext = CertEnumCertificatesInStore( hStore, pContext )) != NULL )</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;         {</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            X509 *x509 = d2i_X509( NULL, (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> **)&amp;pContext-&gt;pbCertEncoded,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                   pContext-&gt;cbCertEncoded);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            <span class="keywordflow">if</span>( x509 != NULL )</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;               X509_STORE_add_cert( store, x509 );</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;               X509_free( x509 );</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;         }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;         CertFreeCertificateContext( pContext );</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;         CertCloseStore( hStore, 0 );</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;         SSL_CTX_set_cert_store( ctx.native_handle(), store );</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html">   62</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html">asio_with_stub_log</a> : <span class="keyword">public</span> websocketpp::config::asio {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a9cb29bb6af0b6c906e7c2fc65d9c36f6">   64</a></span>&#160;          <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html">asio_with_stub_log</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a9cb29bb6af0b6c906e7c2fc65d9c36f6">type</a>;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a60fca1c1c06b5ea3d3d461d40965679d">   65</a></span>&#160;          <span class="keyword">typedef</span> asio <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a60fca1c1c06b5ea3d3d461d40965679d">base</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aa465d4a2681993cdc9daeb0f799b87c5">   67</a></span>&#160;          <span class="keyword">typedef</span> base::concurrency_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aa465d4a2681993cdc9daeb0f799b87c5">concurrency_type</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada5bfac2cc37eb0f2a3497dad5588b08">   69</a></span>&#160;          <span class="keyword">typedef</span> base::request_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada5bfac2cc37eb0f2a3497dad5588b08">request_type</a>;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a09520efc59da9cca2d1081f7c213f4c5">   70</a></span>&#160;          <span class="keyword">typedef</span> base::response_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a09520efc59da9cca2d1081f7c213f4c5">response_type</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada00b691b9a3c9661881a9a00aa7b169">   72</a></span>&#160;          <span class="keyword">typedef</span> base::message_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada00b691b9a3c9661881a9a00aa7b169">message_type</a>;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#af4d6d337482bb0a822ed03b2a67ff06a">   73</a></span>&#160;          <span class="keyword">typedef</span> base::con_msg_manager_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#af4d6d337482bb0a822ed03b2a67ff06a">con_msg_manager_type</a>;</div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#abf17f51787a9c0455999609bbcb23a1c">   74</a></span>&#160;          <span class="keyword">typedef</span> base::endpoint_msg_manager_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#abf17f51787a9c0455999609bbcb23a1c">endpoint_msg_manager_type</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a5be4919ddde517477acb81e13cc3826d">   76</a></span>&#160;          <span class="keyword">typedef</span> websocketpp::log::stub <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a5be4919ddde517477acb81e13cc3826d">elog_type</a>;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aca0f41c2b685dc44269aaacac8f7755d">   77</a></span>&#160;          <span class="keyword">typedef</span> websocketpp::log::stub <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aca0f41c2b685dc44269aaacac8f7755d">alog_type</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#afdec4829054da0307b13b3d53caebb6a">   79</a></span>&#160;          <span class="keyword">typedef</span> base::rng_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#afdec4829054da0307b13b3d53caebb6a">rng_type</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html">   81</a></span>&#160;          <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html">transport_config</a> : <span class="keyword">public</span> base::transport_config {</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a76b2e8c2ca69bb715f5eb1e4e6935eef">   82</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aa465d4a2681993cdc9daeb0f799b87c5">type::concurrency_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a76b2e8c2ca69bb715f5eb1e4e6935eef">concurrency_type</a>;</div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#ad6a0e14beb9573c012122832cd065f8d">   83</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aca0f41c2b685dc44269aaacac8f7755d">type::alog_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#ad6a0e14beb9573c012122832cd065f8d">alog_type</a>;</div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a83a40c233142f9d98d7e3e8b6d128347">   84</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a5be4919ddde517477acb81e13cc3826d">type::elog_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a83a40c233142f9d98d7e3e8b6d128347">elog_type</a>;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a1c05fbe9e231de82ecc62c53f6dabed7">   85</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada5bfac2cc37eb0f2a3497dad5588b08">type::request_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a1c05fbe9e231de82ecc62c53f6dabed7">request_type</a>;</div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a972244bd6afd404ad7236a65a5345396">   86</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a09520efc59da9cca2d1081f7c213f4c5">type::response_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a972244bd6afd404ad7236a65a5345396">response_type</a>;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a0a8f4f1fa6acd33291ef557113ee6806">   87</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="namespacefc_1_1asio_1_1tcp.html#aaaf875000d53a6ec4c33850f99fb2e88">websocketpp::transport::asio::basic_socket::endpoint</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a0a8f4f1fa6acd33291ef557113ee6806">socket_type</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;          };</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a204d80e4b40f6e8120006ae2d91b5880">   90</a></span>&#160;          <span class="keyword">typedef</span> websocketpp::transport::asio::endpoint&lt;transport_config&gt; <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a204d80e4b40f6e8120006ae2d91b5880">transport_type</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;          <span class="comment">// permessage_compress extension</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1permessage__deflate__config.html">   93</a></span>&#160;          <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1permessage__deflate__config.html">permessage_deflate_config</a> {};</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#ifdef HAS_ZLIB</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;          <span class="keyword">typedef</span> websocketpp::extensions::permessage_deflate::enabled &lt;permessage_deflate_config&gt;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aaf52dcd9340e25dd734ec40889ee45d4">permessage_deflate_type</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          <span class="keyword">typedef</span> websocketpp::extensions::permessage_deflate::disabled &lt;permessage_deflate_config&gt;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aaf52dcd9340e25dd734ec40889ee45d4">   99</a></span>&#160;                <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aaf52dcd9340e25dd734ec40889ee45d4">permessage_deflate_type</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      };</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html">  102</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html">asio_tls_with_stub_log</a> : <span class="keyword">public</span> websocketpp::config::asio_tls {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a8cca01512519b25397f37ad8bda17a7d">  104</a></span>&#160;          <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html">asio_with_stub_log</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a8cca01512519b25397f37ad8bda17a7d">type</a>;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a3ed2ba8d52ab9e360f7ffad0bf0f4cfc">  105</a></span>&#160;          <span class="keyword">typedef</span> asio_tls <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a3ed2ba8d52ab9e360f7ffad0bf0f4cfc">base</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aa0e0ac76625973df042e8d8a58004008">  107</a></span>&#160;          <span class="keyword">typedef</span> base::concurrency_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aa0e0ac76625973df042e8d8a58004008">concurrency_type</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a33950985ab757fb9a2bbd15f84d0c1d3">  109</a></span>&#160;          <span class="keyword">typedef</span> base::request_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a33950985ab757fb9a2bbd15f84d0c1d3">request_type</a>;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a512e9aec25fa227bf4441534210b97c8">  110</a></span>&#160;          <span class="keyword">typedef</span> base::response_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a512e9aec25fa227bf4441534210b97c8">response_type</a>;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aca6af7aadf77c6f81256b70999379332">  112</a></span>&#160;          <span class="keyword">typedef</span> base::message_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aca6af7aadf77c6f81256b70999379332">message_type</a>;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a8af9d0f9cc1ebbcc3a1fe55f672dff60">  113</a></span>&#160;          <span class="keyword">typedef</span> base::con_msg_manager_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a8af9d0f9cc1ebbcc3a1fe55f672dff60">con_msg_manager_type</a>;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#ac2f69eacbeb9cc8051db85cbbbbf2ff8">  114</a></span>&#160;          <span class="keyword">typedef</span> base::endpoint_msg_manager_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#ac2f69eacbeb9cc8051db85cbbbbf2ff8">endpoint_msg_manager_type</a>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a177a938c77ac170dcfa69a43b4931084">  116</a></span>&#160;          <span class="keyword">typedef</span> websocketpp::log::stub <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a177a938c77ac170dcfa69a43b4931084">elog_type</a>;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a5fa8ec074158fe664cf1c24bc49a3cd0">  117</a></span>&#160;          <span class="keyword">typedef</span> websocketpp::log::stub <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a5fa8ec074158fe664cf1c24bc49a3cd0">alog_type</a>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a5c770e22a0b5e71cde688ba68ba33210">  119</a></span>&#160;          <span class="keyword">typedef</span> base::rng_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a5c770e22a0b5e71cde688ba68ba33210">rng_type</a>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html">  121</a></span>&#160;          <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html">transport_config</a> : <span class="keyword">public</span> base::transport_config {</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#abc5b75dbe46831195e265621aaf82e7c">  122</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aa465d4a2681993cdc9daeb0f799b87c5">type::concurrency_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#abc5b75dbe46831195e265621aaf82e7c">concurrency_type</a>;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#a20c20ff7835bc794e3adeb3615899a2a">  123</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aca0f41c2b685dc44269aaacac8f7755d">type::alog_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#a20c20ff7835bc794e3adeb3615899a2a">alog_type</a>;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#aeca6830c56529f05e2da3a13fe1463b2">  124</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a5be4919ddde517477acb81e13cc3826d">type::elog_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#aeca6830c56529f05e2da3a13fe1463b2">elog_type</a>;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#a4080f3f6f1a3fbe415f3a7a102a62fc7">  125</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada5bfac2cc37eb0f2a3497dad5588b08">type::request_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#a4080f3f6f1a3fbe415f3a7a102a62fc7">request_type</a>;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#ab288034c279a673d310c79c94bda2474">  126</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a09520efc59da9cca2d1081f7c213f4c5">type::response_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#ab288034c279a673d310c79c94bda2474">response_type</a>;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#aa949cbea45c52b0a0db014b2fc551355">  127</a></span>&#160;              <span class="keyword">typedef</span> <a class="code" href="namespacefc_1_1asio_1_1tcp.html#aaaf875000d53a6ec4c33850f99fb2e88">websocketpp::transport::asio::tls_socket::endpoint</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#aa949cbea45c52b0a0db014b2fc551355">socket_type</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;          };</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aaf9d3552aff49e6b6e0155cfc196c85f">  130</a></span>&#160;          <span class="keyword">typedef</span> websocketpp::transport::asio::endpoint&lt;transport_config&gt; <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aaf9d3552aff49e6b6e0155cfc196c85f">transport_type</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;          <span class="comment">// permessage_compress extension</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1permessage__deflate__config.html">  133</a></span>&#160;          <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1permessage__deflate__config.html">permessage_deflate_config</a> {};</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="preprocessor">#ifdef HAS_ZLIB</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;          <span class="keyword">typedef</span> websocketpp::extensions::permessage_deflate::enabled &lt;permessage_deflate_config&gt;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aaf52dcd9340e25dd734ec40889ee45d4">permessage_deflate_type</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          <span class="keyword">typedef</span> websocketpp::extensions::permessage_deflate::disabled &lt;permessage_deflate_config&gt;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#ab18d533ece0b25807661e9d8e09aad6b">  139</a></span>&#160;                <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#ab18d533ece0b25807661e9d8e09aad6b">permessage_deflate_type</a>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      };</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html">  142</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html">asio_tls_stub_log</a> : <span class="keyword">public</span> websocketpp::config::asio_tls {</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a00f74a98bb4a4f7d9e25699a13501703">  143</a></span>&#160;         <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html">asio_tls_stub_log</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a00f74a98bb4a4f7d9e25699a13501703">type</a>;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a5e4d189581e2c48bdd1670c1f46e0883">  144</a></span>&#160;         <span class="keyword">typedef</span> asio_tls <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a5e4d189581e2c48bdd1670c1f46e0883">base</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab51f1d7050a591f36026da5976b5c4c1">  146</a></span>&#160;         <span class="keyword">typedef</span> base::concurrency_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab51f1d7050a591f36026da5976b5c4c1">concurrency_type</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1b8df3b3315192b90bfebb663d7c66d5">  148</a></span>&#160;         <span class="keyword">typedef</span> base::request_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1b8df3b3315192b90bfebb663d7c66d5">request_type</a>;</div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a992e42d113382d3653cd3e273041ceba">  149</a></span>&#160;         <span class="keyword">typedef</span> base::response_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a992e42d113382d3653cd3e273041ceba">response_type</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#aa623222d46cb4e2bb1037727db5a5318">  151</a></span>&#160;         <span class="keyword">typedef</span> base::message_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#aa623222d46cb4e2bb1037727db5a5318">message_type</a>;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a7ccce377d280f7434b9036b84e776c77">  152</a></span>&#160;         <span class="keyword">typedef</span> base::con_msg_manager_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a7ccce377d280f7434b9036b84e776c77">con_msg_manager_type</a>;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a916f497d87ae6810d665c18a2d5bd57e">  153</a></span>&#160;         <span class="keyword">typedef</span> base::endpoint_msg_manager_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a916f497d87ae6810d665c18a2d5bd57e">endpoint_msg_manager_type</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1ed2870e6102356510d53bc1410b2a18">  155</a></span>&#160;         <span class="keyword">typedef</span> websocketpp::log::stub <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1ed2870e6102356510d53bc1410b2a18">elog_type</a>;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab44b7a9c2a1a60f99663f12eb59b6b07">  156</a></span>&#160;         <span class="keyword">typedef</span> websocketpp::log::stub <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab44b7a9c2a1a60f99663f12eb59b6b07">alog_type</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a7f75855630811b4564a8bc11764cf49b">  158</a></span>&#160;         <span class="keyword">typedef</span> base::rng_type <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a7f75855630811b4564a8bc11764cf49b">rng_type</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html">  160</a></span>&#160;         <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html">transport_config</a> : <span class="keyword">public</span> base::transport_config {</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#aba57be961b8a7b342bd56046a2a26666">  161</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab51f1d7050a591f36026da5976b5c4c1">type::concurrency_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#aba57be961b8a7b342bd56046a2a26666">concurrency_type</a>;</div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#a61ae9052f36d722a89bd821a6a3f2ffe">  162</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab44b7a9c2a1a60f99663f12eb59b6b07">type::alog_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#a61ae9052f36d722a89bd821a6a3f2ffe">alog_type</a>;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ac0b2f5e25434813ca37a2091ae5b5db4">  163</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1ed2870e6102356510d53bc1410b2a18">type::elog_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ac0b2f5e25434813ca37a2091ae5b5db4">elog_type</a>;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ab246501eec3ed74af4660a1007b66c34">  164</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1b8df3b3315192b90bfebb663d7c66d5">type::request_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ab246501eec3ed74af4660a1007b66c34">request_type</a>;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ab545ba32f3faa52def1377ef7f58ae83">  165</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a992e42d113382d3653cd3e273041ceba">type::response_type</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ab545ba32f3faa52def1377ef7f58ae83">response_type</a>;</div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#a03da1dc53ca36fddc5bf880b07d16b75">  166</a></span>&#160;            <span class="keyword">typedef</span> <a class="code" href="namespacefc_1_1asio_1_1tcp.html#aaaf875000d53a6ec4c33850f99fb2e88">websocketpp::transport::asio::tls_socket::endpoint</a> <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#a03da1dc53ca36fddc5bf880b07d16b75">socket_type</a>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;         };</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a88e4c454cc1aa0b339c8674b39be6e2f">  169</a></span>&#160;         <span class="keyword">typedef</span> websocketpp::transport::asio::endpoint&lt;transport_config&gt; <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a88e4c454cc1aa0b339c8674b39be6e2f">transport_type</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         <span class="comment">// permessage_compress extension</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1permessage__deflate__config.html">  172</a></span>&#160;         <span class="keyword">struct </span><a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1permessage__deflate__config.html">permessage_deflate_config</a> {};</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="preprocessor">#ifdef HAS_ZLIB</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;         <span class="keyword">typedef</span> websocketpp::extensions::permessage_deflate::enabled &lt;permessage_deflate_config&gt;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;               <a class="code" href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aaf52dcd9340e25dd734ec40889ee45d4">permessage_deflate_type</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;         <span class="keyword">typedef</span> websocketpp::extensions::permessage_deflate::disabled &lt;permessage_deflate_config&gt;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a586e2f1b585c6d98a384e91d359acffa">  178</a></span>&#160;               <a class="code" href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a586e2f1b585c6d98a384e91d359acffa">permessage_deflate_type</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      };</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html">  183</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html">websocket_connection_impl</a> : <span class="keyword">public</span> <a class="code" href="classfc_1_1http_1_1websocket__connection.html">websocket_connection</a></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a3739b67ae9b67d3e1acf400f90dc6dd6">  186</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a3739b67ae9b67d3e1acf400f90dc6dd6">websocket_connection_impl</a>( T con ) : _ws_connection(con)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;               _remote_endpoint = con-&gt;get_remote_endpoint();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#ad85d6bbe185eaefdc5bc020d5595e844">  191</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#ad85d6bbe185eaefdc5bc020d5595e844">~websocket_connection_impl</a>()</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a0a7bde6d2a19c325d5ff022339e3822a">  195</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a0a7bde6d2a19c325d5ff022339e3822a">send_message</a>( <span class="keyword">const</span> std::string&amp; message )<span class="keyword">override</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;               <a class="code" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;[OUT] ${remote_endpoint} ${msg}&quot;</span>,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                     (<span class="stringliteral">&quot;remote_endpoint&quot;</span>,_remote_endpoint) (<span class="stringliteral">&quot;msg&quot;</span>,message) );</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;               <span class="keyword">auto</span> ec = _ws_connection-&gt;send( message );</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;               <a class="code" href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a>( !ec, <span class="stringliteral">&quot;websocket send failed: ${msg}&quot;</span>, (<span class="stringliteral">&quot;msg&quot;</span>,ec.message() ) );</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            }</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a4acaa8c78b8ad95b014620a62bf51227">  202</a></span>&#160;            <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a4acaa8c78b8ad95b014620a62bf51227">close</a>( int64_t code, <span class="keyword">const</span> std::string&amp; reason  )<span class="keyword">override</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;               _ws_connection-&gt;close(code,reason);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a968906bc44eceff471b8396b91b0aae8">  207</a></span>&#160;            <span class="keyword">virtual</span> std::string <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a968906bc44eceff471b8396b91b0aae8">get_request_header</a>(<span class="keyword">const</span> std::string&amp; key)<span class="keyword">override</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;              <span class="keywordflow">return</span> _ws_connection-&gt;get_request_header(key);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a64b994b0ff5ae1c04f99bd2a20a4a2c7">  212</a></span>&#160;            T <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a64b994b0ff5ae1c04f99bd2a20a4a2c7">_ws_connection</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      };</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html">  216</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html">possibly_proxied_websocket_connection</a> : <span class="keyword">public</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html">websocket_connection_impl</a>&lt;T&gt;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      {</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html#aac68e8ddd22be989ad185fa7e61e71ad">  219</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html#aac68e8ddd22be989ad185fa7e61e71ad">possibly_proxied_websocket_connection</a>( T con, <span class="keyword">const</span> std::string&amp; forward_header_key )</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;               : <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html">websocket_connection_impl</a>&lt;T&gt;(con)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;               <span class="comment">// By calling the parent&#39;s constructor, _remote_endpoint has been initialized.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;               <span class="comment">// Now try to extract remote address from the header, if found, overwrite it</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;               <span class="keywordflow">if</span>( !forward_header_key.empty() )</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;               {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                  <span class="keyword">const</span> std::string value = this-&gt;get_request_header( forward_header_key );</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                  <span class="keywordflow">if</span>( !value.empty() )</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                     this-&gt;_remote_endpoint = value;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;               }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html#a7c5bb77f64075564998da1ab02cdb9b3">  232</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html#a7c5bb77f64075564998da1ab02cdb9b3">~possibly_proxied_websocket_connection</a>()</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      };</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="namespacefc_1_1http_1_1detail.html#a254e3f6f90c4d21da1a0c19ded1f8cf4">  237</a></span>&#160;      <span class="keyword">typedef</span> websocketpp::lib::shared_ptr&lt;boost::asio::ssl::context&gt; <a class="code" href="namespacefc_1_1http_1_1detail.html#a254e3f6f90c4d21da1a0c19ded1f8cf4">context_ptr</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keyword">using</span> websocketpp::connection_hdl;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">  242</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">generic_websocket_server_impl</a></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aa8ac1128bb12d54d665f72da9a1e6541">  245</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aa8ac1128bb12d54d665f72da9a1e6541">generic_websocket_server_impl</a>( <span class="keyword">const</span> std::string&amp; forward_header_key )</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;               :_server_thread( <a class="code" href="namespacefc.html">fc</a>::<a class="code" href="classfc_1_1thread.html">thread</a>::current() ), _forward_header_key( forward_header_key )</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;               _server.clear_access_channels( <a class="code" href="namespacegraphene_1_1elasticsearch.html#adf21cd61908e3405c92b74a61281dd83ad7c2229bbed0788c5a4985530c94a49b">websocketpp::log::alevel::all</a> );</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;               _server.init_asio( &amp;<a class="code" href="namespacefc_1_1asio.html#a25f142c1704b75ed97e1106a9c29f4b5">fc::asio::default_io_service</a>() );</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;               _server.set_reuse_addr( <span class="keyword">true</span> );</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;               _server.set_open_handler( [<span class="keyword">this</span>]( connection_hdl hdl ){</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                  _server_thread.async( [<span class="keyword">this</span>, hdl](){</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                     <span class="keyword">auto</span> new_con = std::make_shared&lt;<a class="code" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html">possibly_proxied_websocket_connection</a>&lt;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                              <span class="keyword">typename</span> <a class="code" href="namespacefc_1_1http.html#a96e5e4ed3917cb7612daed1cab3d4452">websocketpp::server&lt;T&gt;::connection_ptr</a>&gt;&gt;( _server.get_con_from_hdl(hdl),</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                                                                 _forward_header_key );</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                     _on_connection( _connections[hdl] = new_con );</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                  }).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;               });</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;               _server.set_message_handler( [<span class="keyword">this</span>]( connection_hdl hdl,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                              <span class="keyword">typename</span> websocketpp::server&lt;T&gt;::message_ptr msg ){</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                  _server_thread.async( [<span class="keyword">this</span>,hdl,msg](){</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                     <span class="keyword">auto</span> current_con = _connections.find(hdl);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                     <span class="keywordflow">if</span>( current_con == _connections.end() )</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                     <span class="keyword">auto</span> payload = msg-&gt;get_payload();</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                     std::shared_ptr&lt;websocket_connection&gt; con = current_con-&gt;second;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                     <a class="code" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;[IN] ${remote_endpoint} ${msg}&quot;</span>,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                           (<span class="stringliteral">&quot;remote_endpoint&quot;</span>,con-&gt;get_remote_endpoint_string()) (<span class="stringliteral">&quot;msg&quot;</span>,payload) );</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                     ++_pending_messages;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                     <span class="keyword">auto</span> f = <a class="code" href="namespacefc.html#a009206175c2cd7ef2c0fde6c4ae061b5">fc::async</a>([<span class="keyword">this</span>,con,payload](){</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                        <span class="keywordflow">if</span>( _pending_messages )</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                           --_pending_messages;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                        con-&gt;on_message( payload );</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                     });</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                     <span class="keywordflow">if</span>( _pending_messages &gt; 100 )</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                        f.wait(); <span class="comment">// Note: this is a bit strange, because it forces the server to process all</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                                  <span class="comment">//       100 pending messages (assuming this message is the last one) before</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                  <span class="comment">//       trying to accept a new message.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                  <span class="comment">//       Ideally the `wait` should be canceled immediately when the number of</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                  <span class="comment">//       pending messages falls below 100. That said, wait on the whole queue,</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                  <span class="comment">//       but not wait on one message.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                  }).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;               });</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;               _server.set_socket_init_handler( []( websocketpp::connection_hdl hdl,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                              <span class="keyword">typename</span> websocketpp::server&lt;T&gt;::connection_type::socket_type&amp; s ) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                  boost::asio::ip::tcp::no_delay option(<span class="keyword">true</span>);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                  s.lowest_layer().set_option(option);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;               } );</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;               _server.set_http_handler( [<span class="keyword">this</span>]( connection_hdl hdl ){</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                  _server_thread.async( [<span class="keyword">this</span>,hdl](){</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                     <span class="keyword">auto</span> con = _server.get_con_from_hdl(hdl);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                     <span class="keyword">auto</span> current_con = std::make_shared&lt;<a class="code" href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html">possibly_proxied_websocket_connection</a>&lt;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                              <span class="keyword">typename</span> <a class="code" href="namespacefc_1_1http.html#a96e5e4ed3917cb7612daed1cab3d4452">websocketpp::server&lt;T&gt;::connection_ptr</a>&gt;&gt;( con, _forward_header_key );</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                     _on_connection( current_con );</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                     con-&gt;defer_http_response(); <span class="comment">// Note: this can tie up resources if send_http_response() is not</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                                 <span class="comment">//       called quickly enough</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                     std::string remote_endpoint = current_con-&gt;get_remote_endpoint_string();</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                     std::string request_body = con-&gt;get_request_body();</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                     <a class="code" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;[HTTP-IN] ${remote_endpoint} ${msg}&quot;</span>,</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                           (<span class="stringliteral">&quot;remote_endpoint&quot;</span>,remote_endpoint) (<span class="stringliteral">&quot;msg&quot;</span>,request_body) );</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                     <a class="code" href="namespacefc.html#a009206175c2cd7ef2c0fde6c4ae061b5">fc::async</a>([current_con, request_body, con, remote_endpoint] {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                        <a class="code" href="structfc_1_1http_1_1reply.html">fc::http::reply</a> <a class="code" href="elasticsearch__plugin_8cpp.html#a94e56764b51fc45f5ff625a6cb26cf63">response</a> = current_con-&gt;on_http(request_body);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        <a class="code" href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a>( <span class="stringliteral">&quot;[HTTP-OUT] ${remote_endpoint} ${status} ${msg}&quot;</span>,</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                              (<span class="stringliteral">&quot;remote_endpoint&quot;</span>,remote_endpoint)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                              (<span class="stringliteral">&quot;status&quot;</span>,response.<a class="code" href="structfc_1_1http_1_1reply.html#adf846a23dce6087c1671a800fb6941e9">status</a>)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                              (<span class="stringliteral">&quot;msg&quot;</span>,response.<a class="code" href="structfc_1_1http_1_1reply.html#a1171afefe041f9a9727299cf8fda2031">body_as_string</a>) );</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                        con-&gt;set_body( std::move( response.<a class="code" href="structfc_1_1http_1_1reply.html#a1171afefe041f9a9727299cf8fda2031">body_as_string</a> ) );</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        con-&gt;set_status( websocketpp::http::status_code::value(response.<a class="code" href="structfc_1_1http_1_1reply.html#adf846a23dce6087c1671a800fb6941e9">status</a>) );</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        con-&gt;send_http_response();</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        current_con-&gt;closed();</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                     }, <span class="stringliteral">&quot;call on_http&quot;</span>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                  }).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;               });</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;               _server.set_close_handler( [<span class="keyword">this</span>]( connection_hdl hdl ){</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                  _server_thread.async( [<span class="keyword">this</span>,hdl](){</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                     <span class="keywordflow">if</span>( _connections.find(hdl) != _connections.end() )</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                     {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        _connections[hdl]-&gt;closed();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        _connections.erase( hdl );</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                        <span class="keywordflow">if</span>( _connections.empty() &amp;&amp; _all_connections_closed )</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                           _all_connections_closed-&gt;set_value();</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                     }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                     <span class="keywordflow">else</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                     {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                        <a class="code" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;unknown connection closed&quot;</span> );</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                     }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                  }).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;               });</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;               _server.set_fail_handler( [<span class="keyword">this</span>]( connection_hdl hdl ){</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                  _server_thread.async( [<span class="keyword">this</span>,hdl](){</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                     <span class="keywordflow">if</span>( _connections.find(hdl) != _connections.end() )</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                     {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                        _connections[hdl]-&gt;closed();</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                        _connections.erase( hdl );</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                        <span class="keywordflow">if</span>( _connections.empty() &amp;&amp; _all_connections_closed )</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                           _all_connections_closed-&gt;set_value();</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                     }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                     <span class="keywordflow">else</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                     {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        <span class="comment">// if the server is shutting down, assume this hdl is the server socket</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                        <span class="keywordflow">if</span>( _server_socket_closed )</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                           _server_socket_closed-&gt;set_value();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                        <span class="keywordflow">else</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                           <a class="code" href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a>( <span class="stringliteral">&quot;unknown connection failed&quot;</span> );</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                     }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                  }).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;               });</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            }</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac94411301c08dc767e21819c24e31695">  356</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac94411301c08dc767e21819c24e31695">~generic_websocket_server_impl</a>()</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;               <span class="keywordflow">if</span>( _server.is_listening() )</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;               {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                  <span class="comment">// _server.stop_listening() may trigger the on_fail callback function (the lambda function set by</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                  <span class="comment">//   _server.set_fail_handler(...) ) for the listening server socket (note: the connection handle</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                  <span class="comment">//   associated with the server socket is not in our connection map),</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                  <span class="comment">// the on_fail callback function may fire (async) a new task which may run really late</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                  <span class="comment">//   and it will try to access the member variables of this server object,</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                  <span class="comment">// so we need to wait for it before destructing this object.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                  _server_socket_closed = <a class="code" href="classfc_1_1promise.html#aea1eedc4d2baf928b35a69eba569cdd2">promise&lt;void&gt;::create</a>();</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                  _server.stop_listening();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;               }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;               <span class="comment">// Note: since _connections can be modified by lambda functions in set_*_handler, which are running</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;               <span class="comment">//       in other tasks, perhaps we need to wait for them (especially the one in set_open_handler)</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;               <span class="comment">//       being processed. Otherwise `_all_connections_closed.wait()` may hang.</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;               <span class="keywordflow">if</span>( !_connections.empty() )</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;               {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                  _all_connections_closed = <a class="code" href="classfc_1_1promise.html#aea1eedc4d2baf928b35a69eba569cdd2">promise&lt;void&gt;::create</a>();</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                  <span class="keyword">auto</span> cpy_con = _connections;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                  websocketpp::lib::error_code ec;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                  <span class="keywordflow">for</span>( <span class="keyword">auto</span>&amp; item : cpy_con )</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                     _server.close( item.first, 0, <span class="stringliteral">&quot;server exit&quot;</span>, ec );</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                  _all_connections_closed-&gt;wait();</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;               }</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;               <span class="keywordflow">if</span>( _server_socket_closed )</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                  _server_socket_closed-&gt;wait();</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            }</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac56760a220273685b80c5297429be188">  389</a></span>&#160;            <span class="keyword">typedef</span> std::map&lt;connection_hdl, websocket_connection_ptr, std::owner_less&lt;connection_hdl&gt; &gt; <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac56760a220273685b80c5297429be188">con_map</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="comment">// Note: std::map is not thread-safe nor task-safe, we may need</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <span class="comment">//       to use a mutex or similar to avoid concurrent access.</span></div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a1db794aec77baee02aabf925b1567beb">  393</a></span>&#160;            con_map                  <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a1db794aec77baee02aabf925b1567beb">_connections</a>;   </div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a1c5a07ecc690b8a04d706daf9b7525f7">  394</a></span>&#160;            <a class="code" href="classfc_1_1thread.html">fc::thread</a>&amp;              <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a1c5a07ecc690b8a04d706daf9b7525f7">_server_thread</a>; </div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aa41c5f5d62487732e7dd32c4c8cc8881">  395</a></span>&#160;            websocketpp::server&lt;T&gt;   <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aa41c5f5d62487732e7dd32c4c8cc8881">_server</a>;        </div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a824120a2bf80e7f653922fad1f70c2c0">  396</a></span>&#160;            <a class="code" href="namespacefc_1_1http.html#a033a516ca47ae9cbe33095798672033d">on_connection_handler</a>    <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a824120a2bf80e7f653922fad1f70c2c0">_on_connection</a>; </div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aed014f55d8bf2f6d1bbd35013dd71b60">  397</a></span>&#160;            <a class="code" href="classfc_1_1promise.html">fc::promise&lt;void&gt;::ptr</a>   <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aed014f55d8bf2f6d1bbd35013dd71b60">_all_connections_closed</a>; </div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#acdc34b5e5da116fb494fd69c4ef1795b">  398</a></span>&#160;            <a class="code" href="classfc_1_1promise.html">fc::promise&lt;void&gt;::ptr</a>   <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#acdc34b5e5da116fb494fd69c4ef1795b">_server_socket_closed</a>; </div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac44268b12c3bb2f2d55561aa178f73cc">  399</a></span>&#160;            uint32_t                 _pending_messages = 0; </div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a514f5d3e8fb9c0d5289d8a7b1acc6abb">  400</a></span>&#160;            std::string              <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a514f5d3e8fb9c0d5289d8a7b1acc6abb">_forward_header_key</a>; </div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      };</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html">  403</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html">websocket_server_impl</a> : <span class="keyword">public</span> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">generic_websocket_server_impl</a>&lt;asio_with_stub_log&gt;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      {</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html#a312acca6733fd99fb56619df99eb067b">  406</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html#a312acca6733fd99fb56619df99eb067b">websocket_server_impl</a>( <span class="keyword">const</span> std::string&amp; forward_header_key )</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            : <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">generic_websocket_server_impl</a>( forward_header_key )</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            {}</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html#a4fbc27486905cd395cc534e090be6a05">  410</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html#a4fbc27486905cd395cc534e090be6a05">~websocket_server_impl</a>() {}</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      };</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html">  413</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html">websocket_tls_server_impl</a> : <span class="keyword">public</span> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">generic_websocket_server_impl</a>&lt;asio_tls_stub_log&gt;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html#ab325aeb70bb8fd8c4ceef53b55540a77">  416</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html#ab325aeb70bb8fd8c4ceef53b55540a77">websocket_tls_server_impl</a>( <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; server_pem, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; ssl_password,</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                       <span class="keyword">const</span> std::string&amp; forward_header_key )</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;               : <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">generic_websocket_server_impl</a>( forward_header_key )</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;               _server.set_tls_init_handler( [server_pem,ssl_password]( websocketpp::connection_hdl hdl ) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                     context_ptr ctx = websocketpp::lib::make_shared&lt;boost::asio::ssl::context&gt;(</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                             boost::asio::ssl::context::tlsv12 );</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                     <span class="keywordflow">try</span> {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        ctx-&gt;set_options( boost::asio::ssl::context::default_workarounds |</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                          boost::asio::ssl::context::no_sslv2 |</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                          boost::asio::ssl::context::no_sslv3 |</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                          boost::asio::ssl::context::no_tlsv1 |</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                          boost::asio::ssl::context::no_tlsv1_1 |</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                          boost::asio::ssl::context::single_dh_use );</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                        ctx-&gt;set_password_callback(</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                              [ssl_password](std::size_t max_length, boost::asio::ssl::context::password_purpose){</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                                    <span class="keywordflow">return</span> ssl_password;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                        });</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                        ctx-&gt;use_certificate_chain_file(server_pem);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        ctx-&gt;use_private_key_file(server_pem, boost::asio::ssl::context::pem);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                     } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                        <a class="code" href="namespacefc.html#a1bf3875d7e931362d181f93f3e2f4ec0">std::cout</a> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                     }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                     <span class="keywordflow">return</span> ctx;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;               });</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            }</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html#a19531f314c6f6d245a8ed6f083a78f6c">  443</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html#a19531f314c6f6d245a8ed6f083a78f6c">~websocket_tls_server_impl</a>() {}</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      };</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html">  449</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html">generic_websocket_client_impl</a></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a928b56ef5e0ff7e6a3fa47b0f885c90f">  452</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a928b56ef5e0ff7e6a3fa47b0f885c90f">generic_websocket_client_impl</a>()</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            :_client_thread( <a class="code" href="namespacefc.html">fc</a>::<a class="code" href="classfc_1_1thread.html">thread</a>::current() )</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            {</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                _client.clear_access_channels( <a class="code" href="namespacegraphene_1_1elasticsearch.html#adf21cd61908e3405c92b74a61281dd83ad7c2229bbed0788c5a4985530c94a49b">websocketpp::log::alevel::all</a> );</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                _client.set_message_handler( [<span class="keyword">this</span>]( connection_hdl hdl,</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                                                  <span class="keyword">typename</span> websocketpp::client&lt;T&gt;::message_ptr msg ){</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                   _client_thread.async( [<span class="keyword">this</span>,msg](){</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                        <a class="code" href="logger_8hpp.html#a4d1a1f9c3a9f914e9eb0363d72e5fff0">wdump</a>((msg-&gt;get_payload()));</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                        <span class="keyword">auto</span> received = msg-&gt;get_payload();</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                        <a class="code" href="namespacefc.html#a009206175c2cd7ef2c0fde6c4ae061b5">fc::async</a>( [<span class="keyword">this</span>,received](){</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                           <span class="keywordflow">if</span>( _connection )</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                               _connection-&gt;on_message(received);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                        });</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                   }).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                });</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                _client.set_close_handler( [<span class="keyword">this</span>]( connection_hdl hdl ){</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                   _client_thread.async( [<span class="keyword">this</span>](){</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                         <span class="keywordflow">if</span>( _connection ) {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                            _connection-&gt;closed();</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                            _connection.reset();</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                         }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                      } ).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                   <span class="keywordflow">if</span>( _closed )</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                      _closed-&gt;set_value();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                });</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                _client.set_fail_handler( [<span class="keyword">this</span>]( connection_hdl hdl ){</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                   <span class="keyword">auto</span> con = _client.get_con_from_hdl(hdl);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                   <span class="keyword">auto</span> message = con-&gt;get_ec().message();</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                   <span class="keywordflow">if</span>( _connection )</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                   {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                      _client_thread.async( [<span class="keyword">this</span>](){</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                            <span class="keywordflow">if</span>( _connection ) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                               _connection-&gt;closed();</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                               _connection.reset();</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                            }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                         } ).<a class="code" href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">wait</a>();</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                   }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                   <span class="keywordflow">if</span>( _connected &amp;&amp; !_connected-&gt;ready() )</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                   {</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                       _connected-&gt;set_exception( <a class="code" href="namespacefc.html#a15170d1be1e682691dfe6ae09790edce">exception_ptr</a>(</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                             <span class="keyword">new</span> <a class="code" href="exception_8hpp.html#a327d3b5812f556b945bec03c3768f9f7">FC_EXCEPTION</a>( <a class="code" href="classfc_1_1exception.html">exception</a>, <span class="stringliteral">&quot;${message}&quot;</span>, (<span class="stringliteral">&quot;message&quot;</span>,message)) ) );</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                   }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                   <span class="keywordflow">if</span>( _closed )</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                       _closed-&gt;set_value();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                });</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                _client.init_asio( &amp;<a class="code" href="namespacefc_1_1asio.html#a25f142c1704b75ed97e1106a9c29f4b5">fc::asio::default_io_service</a>() );</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a66f2144b15d29736ee6ad86c7b29bc03">  501</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a66f2144b15d29736ee6ad86c7b29bc03">~generic_websocket_client_impl</a>()</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;               <span class="keywordflow">if</span>( _connection )</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;               {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                  _connection-&gt;close(0, <span class="stringliteral">&quot;client closed&quot;</span>);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                  _connection.reset();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;               }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;               <span class="keywordflow">if</span>( _closed )</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                  _closed-&gt;wait();</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#aae332c0d1219c5755d1af658b9da274d">  512</a></span>&#160;            <a class="code" href="namespacefc_1_1http.html#a530cf9528ae810584e918888da48f53d">websocket_connection_ptr</a> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#aae332c0d1219c5755d1af658b9da274d">connect</a>( <span class="keyword">const</span> std::string&amp; uri, <span class="keyword">const</span> <a class="code" href="namespacefc_1_1http.html#a4e65ca3195c247113e0bbda9063356a2">fc::http::headers</a>&amp; <a class="code" href="namespacefc_1_1http.html#a4e65ca3195c247113e0bbda9063356a2">headers</a> )</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;               websocketpp::lib::error_code ec;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;               _uri = uri;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;               _connected = <a class="code" href="classfc_1_1promise.html#aea1eedc4d2baf928b35a69eba569cdd2">promise&lt;void&gt;::create</a>(<span class="stringliteral">&quot;websocket::connect&quot;</span>);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;               _client.set_open_handler( [<span class="keyword">this</span>]( websocketpp::connection_hdl hdl ){</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                  _hdl = hdl;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                  <span class="keyword">auto</span> con = _client.get_con_from_hdl(hdl);</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                  _connection = std::make_shared&lt;<a class="code" href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html">websocket_connection_impl</a>&lt;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                       <span class="keyword">typename</span> <a class="code" href="namespacefc_1_1http.html#a96e5e4ed3917cb7612daed1cab3d4452">websocketpp::client&lt;T&gt;::connection_ptr</a>&gt;&gt;( con );</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                  _closed = <a class="code" href="classfc_1_1promise.html#aea1eedc4d2baf928b35a69eba569cdd2">promise&lt;void&gt;::create</a>(<span class="stringliteral">&quot;websocket::closed&quot;</span>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                  _connected-&gt;set_value();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;               });</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;               <span class="keyword">auto</span> con = _client.get_connection( uri, ec );</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;               <span class="keywordflow">for</span>( <span class="keyword">const</span> <a class="code" href="structfc_1_1http_1_1header.html">fc::http::header</a>&amp; h : headers )</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;               {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                  con-&gt;append_header( h.key, h.val );</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;               }</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;               <a class="code" href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a>( !ec, <span class="stringliteral">&quot;error: ${e}&quot;</span>, (<span class="stringliteral">&quot;e&quot;</span>,ec.message()) );</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;               _client.connect(con);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;               _connected-&gt;wait();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;               <span class="keywordflow">return</span> _connection;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a075b207a6d0096a73d832ae434ca7193">  542</a></span>&#160;            <a class="code" href="classfc_1_1promise.html">fc::promise&lt;void&gt;::ptr</a>             <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a075b207a6d0096a73d832ae434ca7193">_connected</a>;</div><div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a416911763da8b579fb285fabdd1a63a7">  543</a></span>&#160;            <a class="code" href="classfc_1_1promise.html">fc::promise&lt;void&gt;::ptr</a>             <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a416911763da8b579fb285fabdd1a63a7">_closed</a>;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#ab1a2bcb66d3737fbc8518113808be9bc">  544</a></span>&#160;            <a class="code" href="classfc_1_1thread.html">fc::thread</a>&amp;                        <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#ab1a2bcb66d3737fbc8518113808be9bc">_client_thread</a>;</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a1c294cea4a2fbf3bdbba7abcbdd42498">  545</a></span>&#160;            websocketpp::client&lt;T&gt;             <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a1c294cea4a2fbf3bdbba7abcbdd42498">_client</a>;</div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#aa12a18e8708ad519e3d319e268da59a7">  546</a></span>&#160;            <a class="code" href="namespacefc_1_1http.html#a530cf9528ae810584e918888da48f53d">websocket_connection_ptr</a>           <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#aa12a18e8708ad519e3d319e268da59a7">_connection</a>;</div><div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#af995f4db3023937dcc109721e10f9463">  547</a></span>&#160;            std::string                        <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#af995f4db3023937dcc109721e10f9463">_uri</a>;</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#ab07a2c6c315237ece7b36793c0f11270">  548</a></span>&#160;            <a class="code" href="classfc_1_1optional.html">fc::optional&lt;connection_hdl&gt;</a>       <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#ab07a2c6c315237ece7b36793c0f11270">_hdl</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      };</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__client__impl.html">  551</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1websocket__client__impl.html">websocket_client_impl</a> : <span class="keyword">public</span> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html">generic_websocket_client_impl</a>&lt;asio_with_stub_log&gt;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      {};</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html">  554</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html">websocket_tls_client_impl</a> : <span class="keyword">public</span> <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html">generic_websocket_client_impl</a>&lt;asio_tls_stub_log&gt;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;      {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;         <span class="keyword">public</span>:</div><div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#aed4c72d05f0dfd750f76516211579ba6">  557</a></span>&#160;            <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#aed4c72d05f0dfd750f76516211579ba6">websocket_tls_client_impl</a>( <span class="keyword">const</span> std::string&amp; ca_filename )</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            : <a class="code" href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html">generic_websocket_client_impl</a>()</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="comment">// ca_filename has special values:</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <span class="comment">// &quot;_none&quot; disables cert checking (potentially insecure!)</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <span class="comment">// &quot;_default&quot; uses default CA&#39;s provided by OS</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="comment">//</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="comment">// We need ca_filename to be copied into the closure, as the</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <span class="comment">// referenced object might be destroyed by the caller by the time</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="comment">// tls_init_handler() is called.  According to [1], capture-by-value</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="comment">// results in the desired behavior (i.e. creation of</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <span class="comment">// a copy which is stored in the closure) on standards compliant compilers,</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                <span class="comment">// but some compilers on some optimization levels</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                <span class="comment">// are buggy and are not standards compliant in this situation.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <span class="comment">//  Also, keep in mind this is the opinion of a single forum</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                <span class="comment">// poster and might be wrong.</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                <span class="comment">//</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="comment">// To be safe, the following line explicitly creates a non-reference string</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="comment">// which is captured by value, which should have the</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="comment">// correct behavior on all compilers.</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="comment">//</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="comment">// [1] http://www.cplusplus.com/forum/general/142165/</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <span class="comment">// [2] http://stackoverflow.com/questions/21443023/capturing-a-reference-by-reference-in-a-c11-lambda</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                <span class="comment">//</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                std::string ca_filename_copy = ca_filename;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                _client.set_tls_init_handler( [<span class="keyword">this</span>,ca_filename_copy](websocketpp::connection_hdl) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                   context_ptr ctx = websocketpp::lib::make_shared&lt;boost::asio::ssl::context&gt;(</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                           boost::asio::ssl::context::tlsv12);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                   <span class="keywordflow">try</span> {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                      ctx-&gt;set_options( boost::asio::ssl::context::default_workarounds |</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                        boost::asio::ssl::context::no_sslv2 |</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                        boost::asio::ssl::context::no_sslv3 |</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                        boost::asio::ssl::context::no_tlsv1 |</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                        boost::asio::ssl::context::no_tlsv1_1 |</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                        boost::asio::ssl::context::single_dh_use );</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                      setup_peer_verify( ctx, ca_filename_copy );</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                   } <span class="keywordflow">catch</span> (std::exception&amp; e) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                      <a class="code" href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a>((e.what()));</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                      <a class="code" href="namespacefc.html#a1bf3875d7e931362d181f93f3e2f4ec0">std::cout</a> &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                   }</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                   <span class="keywordflow">return</span> ctx;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                });</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            }</div><div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a569039d20e52864b57a687819c94c24d">  605</a></span>&#160;            <span class="keyword">virtual</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a569039d20e52864b57a687819c94c24d">~websocket_tls_client_impl</a>() {}</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a35bf14aac70beae04db3e949e4bcb338">  607</a></span>&#160;            std::string <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a35bf14aac70beae04db3e949e4bcb338">get_host</a>()<span class="keyword">const</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="keyword">            </span>{</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;               <span class="keywordflow">return</span> websocketpp::uri( _uri ).get_host();</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a9806cd2fbdbab221a844eab524c533a5">  612</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a9806cd2fbdbab221a844eab524c533a5">setup_peer_verify</a>( context_ptr&amp; ctx, <span class="keyword">const</span> std::string&amp; ca_filename )</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            {</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;               <span class="keywordflow">if</span>( ca_filename == <span class="stringliteral">&quot;_none&quot;</span> )</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;               ctx-&gt;set_verify_mode( boost::asio::ssl::verify_peer );</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;               <span class="keywordflow">if</span>( ca_filename == <span class="stringliteral">&quot;_default&quot;</span> )</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;               {</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor">#if WIN32</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                  add_windows_root_certs( *ctx );</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                  ctx-&gt;set_default_verify_paths();</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;               }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;               <span class="keywordflow">else</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                  ctx-&gt;load_verify_file( ca_filename );</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;               ctx-&gt;set_verify_depth(10);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;               ctx-&gt;set_verify_callback( boost::asio::ssl::rfc2818_verification( get_host() ) );</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      };</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;   } <span class="comment">// namespace detail</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a34e33de8ed7141c4f541fb09087f49d9">  636</a></span>&#160;   <a class="code" href="classfc_1_1http_1_1websocket__server.html#a34e33de8ed7141c4f541fb09087f49d9">websocket_server::websocket_server</a>( <span class="keyword">const</span> std::string&amp; forward_header_key )</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;         :my( new detail::websocket_server_impl( forward_header_key ) ) {}</div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a9f3288e834166fec4e55240f8661c5f5">  638</a></span>&#160;   <a class="code" href="classfc_1_1http_1_1websocket__server.html#a9f3288e834166fec4e55240f8661c5f5">websocket_server::~websocket_server</a>(){}</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a0e81ec85a9a677aa112ad37a7b747e17">  640</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__server.html#a0e81ec85a9a677aa112ad37a7b747e17">websocket_server::on_connection</a>( <span class="keyword">const</span> <a class="code" href="namespacefc_1_1http.html#a033a516ca47ae9cbe33095798672033d">on_connection_handler</a>&amp; handler )</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;   {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      my-&gt;_on_connection = handler;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;   }</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a4841d3477a4c057a68e1f7af4440840c">  645</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__server.html#a4841d3477a4c057a68e1f7af4440840c">websocket_server::listen</a>( uint16_t port )</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;   {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      my-&gt;_server.listen(port);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;   }</div><div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a625d733e42549191f0a724fac164bd1c">  649</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__server.html#a4841d3477a4c057a68e1f7af4440840c">websocket_server::listen</a>( <span class="keyword">const</span> <a class="code" href="classfc_1_1ip_1_1endpoint.html">fc::ip::endpoint</a>&amp; ep )</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;   {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      my-&gt;_server.listen( <a class="code" href="namespacefc_1_1asio_1_1tcp.html#aaaf875000d53a6ec4c33850f99fb2e88">boost::asio::ip::tcp::endpoint</a>(</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            boost::asio::ip::address_v4(uint32_t(ep.<a class="code" href="classfc_1_1ip_1_1endpoint.html#a79bd7249adbd2e864d25c07988b875e4">get_address</a>())),ep.<a class="code" href="classfc_1_1ip_1_1endpoint.html#a031fb6cd55f0e9abc5d78163ce88a19f">port</a>()) );</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;   }</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#ad6b3903ec5f98f3d8bc2ffbe196cd0bb">  655</a></span>&#160;   uint16_t <a class="code" href="classfc_1_1http_1_1websocket__server.html#ad6b3903ec5f98f3d8bc2ffbe196cd0bb">websocket_server::get_listening_port</a>()</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;   {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      websocketpp::lib::asio::error_code ec;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      <span class="keywordflow">return</span> my-&gt;_server.get_local_endpoint(ec).port();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;   }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#acb2b293cbadeb4d599ddb7c6ab8a86e1">  661</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__server.html#acb2b293cbadeb4d599ddb7c6ab8a86e1">websocket_server::start_accept</a>() {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      my-&gt;_server.start_accept();</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;   }</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a045cbe13660fe9878eae302ec6d32ff9">  665</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__server.html#a045cbe13660fe9878eae302ec6d32ff9">websocket_server::stop_listening</a>()</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;   {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      my-&gt;_server.stop_listening();</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;   }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__server.html#a196f74fd9cfa8ff194da156c8386112f">  670</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__server.html#a196f74fd9cfa8ff194da156c8386112f">websocket_server::close</a>()</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;   {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keyword">auto</span> cpy_con = my-&gt;_connections;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      websocketpp::lib::error_code ec;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="keywordflow">for</span>( <span class="keyword">auto</span>&amp; <a class="code" href="classfc_1_1http_1_1connection.html">connection</a> : cpy_con )</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;         my-&gt;_server.close( <a class="code" href="classfc_1_1http_1_1connection.html">connection</a>.first, websocketpp::close::status::normal, <span class="stringliteral">&quot;Goodbye&quot;</span>, ec );</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;   }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#a2120d7b3d181893fd3aab5c2c0314107">  678</a></span>&#160;   <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#a2120d7b3d181893fd3aab5c2c0314107">websocket_tls_server::websocket_tls_server</a>( <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; server_pem, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; ssl_password,</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                                               <span class="keyword">const</span> std::string&amp; forward_header_key )</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;         :my( new detail::websocket_tls_server_impl(server_pem, ssl_password, forward_header_key) )</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;   {}</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#abf50fca0bd4737cbf0b603bf20f348d7">  683</a></span>&#160;   <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#abf50fca0bd4737cbf0b603bf20f348d7">websocket_tls_server::~websocket_tls_server</a>(){}</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#a66f43ace76bfd7a523d4b7a362ff87b3">  685</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#a66f43ace76bfd7a523d4b7a362ff87b3">websocket_tls_server::on_connection</a>( <span class="keyword">const</span> <a class="code" href="namespacefc_1_1http.html#a033a516ca47ae9cbe33095798672033d">on_connection_handler</a>&amp; handler )</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;   {</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      my-&gt;_on_connection = handler;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#ac86c5d931e243915bb7969f5fd401181">  690</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#ac86c5d931e243915bb7969f5fd401181">websocket_tls_server::listen</a>( uint16_t port )</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;   {</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      my-&gt;_server.listen(port);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;   }</div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#a27b4515e75f0bbd8d641ef3bee02111f">  694</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#ac86c5d931e243915bb7969f5fd401181">websocket_tls_server::listen</a>( <span class="keyword">const</span> <a class="code" href="classfc_1_1ip_1_1endpoint.html">fc::ip::endpoint</a>&amp; ep )</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;   {</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      my-&gt;_server.listen( <a class="code" href="namespacefc_1_1asio_1_1tcp.html#aaaf875000d53a6ec4c33850f99fb2e88">boost::asio::ip::tcp::endpoint</a>(</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            boost::asio::ip::address_v4(uint32_t(ep.<a class="code" href="classfc_1_1ip_1_1endpoint.html#a79bd7249adbd2e864d25c07988b875e4">get_address</a>())),ep.<a class="code" href="classfc_1_1ip_1_1endpoint.html#a031fb6cd55f0e9abc5d78163ce88a19f">port</a>()) );</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;   }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#ada92ab8ac16b656c5782a0ede9dba4b6">  700</a></span>&#160;   uint16_t <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#ada92ab8ac16b656c5782a0ede9dba4b6">websocket_tls_server::get_listening_port</a>()</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;   {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      websocketpp::lib::asio::error_code ec;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">return</span> my-&gt;_server.get_local_endpoint(ec).port();</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;   }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#a92659a187b885df3c352e5069f2fd21d">  706</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#a92659a187b885df3c352e5069f2fd21d">websocket_tls_server::start_accept</a>() {</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      my-&gt;_server.start_accept();</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;   }</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#a1572b73d63ebd0f72ad8b12e7728b66b">  710</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#a1572b73d63ebd0f72ad8b12e7728b66b">websocket_tls_server::stop_listening</a>()</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;   {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      my-&gt;_server.stop_listening();</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;   }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__tls__server.html#a007add9227f256c9f7e81631614e66af">  715</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__tls__server.html#a007add9227f256c9f7e81631614e66af">websocket_tls_server::close</a>()</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;   {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keyword">auto</span> cpy_con = my-&gt;_connections;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      websocketpp::lib::error_code ec;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">for</span>( <span class="keyword">auto</span>&amp; <a class="code" href="classfc_1_1http_1_1connection.html">connection</a> : cpy_con )</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;         my-&gt;_server.close( <a class="code" href="classfc_1_1http_1_1connection.html">connection</a>.first, websocketpp::close::status::normal, <span class="stringliteral">&quot;Goodbye&quot;</span>, ec );</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;   }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#af45c092b88242745c8b6798d20104126">  724</a></span>&#160;   <a class="code" href="classfc_1_1http_1_1websocket__client.html#af45c092b88242745c8b6798d20104126">websocket_client::websocket_client</a>( <span class="keyword">const</span> std::string&amp; ca_filename )</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;         :my( new detail::websocket_client_impl() ),</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          smy(new detail::websocket_tls_client_impl( ca_filename ))</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;   {}</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#a4593392c61e3437596cef9b8300d34f3">  729</a></span>&#160;   <a class="code" href="classfc_1_1http_1_1websocket__client.html#a4593392c61e3437596cef9b8300d34f3">websocket_client::~websocket_client</a>(){ }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#a0513ce0b2f20577c363482c97fc9767d">  731</a></span>&#160;   <a class="code" href="namespacefc_1_1http.html#a530cf9528ae810584e918888da48f53d">websocket_connection_ptr</a> <a class="code" href="classfc_1_1http_1_1websocket__client.html#a0513ce0b2f20577c363482c97fc9767d">websocket_client::connect</a>( <span class="keyword">const</span> std::string&amp; uri )</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;   { <span class="keywordflow">try</span> {</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a>( uri.substr(0,4) == <span class="stringliteral">&quot;wss:&quot;</span> || uri.substr(0,3) == <span class="stringliteral">&quot;ws:&quot;</span>, <span class="stringliteral">&quot;Unsupported protocol&quot;</span> );</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="comment">// WSS</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">if</span>( uri.substr(0,4) == <span class="stringliteral">&quot;wss:&quot;</span> )</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;         <span class="keywordflow">return</span> smy-&gt;connect( uri, _headers );</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="comment">// WS</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">return</span> my-&gt;connect( uri, _headers );</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;   } <a class="code" href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a>( (uri) ) }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#a7f75e7a0708fb2e1cbd459432ff9445a">  745</a></span>&#160;   <a class="code" href="namespacefc_1_1http.html#a530cf9528ae810584e918888da48f53d">websocket_connection_ptr</a> <a class="code" href="classfc_1_1http_1_1websocket__client.html#a7f75e7a0708fb2e1cbd459432ff9445a">websocket_client::secure_connect</a>( <span class="keyword">const</span> std::string&amp; uri )</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;   {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classfc_1_1http_1_1websocket__client.html#a0513ce0b2f20577c363482c97fc9767d">connect</a>( uri );</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;   }</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#aa4014b5f7e29f10fbf32593a09b19067">  750</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__client.html#aa4014b5f7e29f10fbf32593a09b19067">websocket_client::close</a>()</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;   {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <span class="keywordflow">if</span>( my-&gt;_hdl )</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;         my-&gt;_client.close( *my-&gt;_hdl, websocketpp::close::status::normal, <span class="stringliteral">&quot;Goodbye&quot;</span> );</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;   }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#aaf2c67ad34b4b7601894d93fe0258c0c">  756</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__client.html#aaf2c67ad34b4b7601894d93fe0258c0c">websocket_client::synchronous_close</a>()</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;   {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <a class="code" href="classfc_1_1http_1_1websocket__client.html#aa4014b5f7e29f10fbf32593a09b19067">close</a>();</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="keywordflow">if</span>( my-&gt;_closed )</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;         my-&gt;_closed-&gt;wait();</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;   }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="classfc_1_1http_1_1websocket__client.html#aabb767356fcd55c2e5bebee97b067cbd">  763</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="classfc_1_1http_1_1websocket__client.html#aabb767356fcd55c2e5bebee97b067cbd">websocket_client::append_header</a>(<span class="keyword">const</span> std::string&amp; key, <span class="keyword">const</span> std::string&amp; value)</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;   {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      _headers.emplace_back( key, value );</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;   }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;} } <span class="comment">// fc::http</span></div><div class="ttc" id="classfc_1_1http_1_1websocket__client_html_aaf2c67ad34b4b7601894d93fe0258c0c"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#aaf2c67ad34b4b7601894d93fe0258c0c">fc::http::websocket_client::synchronous_close</a></div><div class="ttdeci">void synchronous_close()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00756">websocket.cpp:756</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a8af9d0f9cc1ebbcc3a1fe55f672dff60"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a8af9d0f9cc1ebbcc3a1fe55f672dff60">fc::http::detail::asio_tls_with_stub_log::con_msg_manager_type</a></div><div class="ttdeci">base::con_msg_manager_type con_msg_manager_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00113">websocket.cpp:113</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_ac56760a220273685b80c5297429be188"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac56760a220273685b80c5297429be188">fc::http::detail::generic_websocket_server_impl::con_map</a></div><div class="ttdeci">std::map&lt; connection_hdl, websocket_connection_ptr, std::owner_less&lt; connection_hdl &gt; &gt; con_map</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00389">websocket.cpp:389</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html_a0a7bde6d2a19c325d5ff022339e3822a"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a0a7bde6d2a19c325d5ff022339e3822a">fc::http::detail::websocket_connection_impl::send_message</a></div><div class="ttdeci">virtual void send_message(const std::string &amp;message) override</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00195">websocket.cpp:195</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_a007add9227f256c9f7e81631614e66af"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#a007add9227f256c9f7e81631614e66af">fc::http::websocket_tls_server::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00715">websocket.cpp:715</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html">fc::http::detail::websocket_connection_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00183">websocket.cpp:183</a></div></div>
<div class="ttc" id="websocket__api_8hpp_html"><div class="ttname"><a href="websocket__api_8hpp.html">websocket_api.hpp</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_a196f74fd9cfa8ff194da156c8386112f"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#a196f74fd9cfa8ff194da156c8386112f">fc::http::websocket_server::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00670">websocket.cpp:670</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a1b8df3b3315192b90bfebb663d7c66d5"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1b8df3b3315192b90bfebb663d7c66d5">fc::http::detail::asio_tls_stub_log::request_type</a></div><div class="ttdeci">base::request_type request_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00148">websocket.cpp:148</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_a92659a187b885df3c352e5069f2fd21d"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#a92659a187b885df3c352e5069f2fd21d">fc::http::websocket_tls_server::start_accept</a></div><div class="ttdeci">void start_accept()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00706">websocket.cpp:706</a></div></div>
<div class="ttc" id="classfc_1_1ip_1_1endpoint_html"><div class="ttname"><a href="classfc_1_1ip_1_1endpoint.html">fc::ip::endpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="ip_8hpp_source.html#l00043">ip.hpp:43</a></div></div>
<div class="ttc" id="namespacefc_html_a009206175c2cd7ef2c0fde6c4ae061b5"><div class="ttname"><a href="namespacefc.html#a009206175c2cd7ef2c0fde6c4ae061b5">fc::async</a></div><div class="ttdeci">auto async(Functor &amp;&amp;f, const char *desc FC_TASK_NAME_DEFAULT_ARG, priority prio=priority()) -&gt; fc::future&lt; decltype(f())&gt;</div><div class="ttdef"><b>Definition:</b> <a href="thread_8hpp_source.html#l00227">thread.hpp:227</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a512e9aec25fa227bf4441534210b97c8"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a512e9aec25fa227bf4441534210b97c8">fc::http::detail::asio_tls_with_stub_log::response_type</a></div><div class="ttdeci">base::response_type response_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00110">websocket.cpp:110</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__server__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html">fc::http::detail::websocket_server_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00403">websocket.cpp:403</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a972244bd6afd404ad7236a65a5345396"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a972244bd6afd404ad7236a65a5345396">fc::http::detail::asio_with_stub_log::transport_config::response_type</a></div><div class="ttdeci">type::response_type response_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00086">websocket.cpp:86</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_aa465d4a2681993cdc9daeb0f799b87c5"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aa465d4a2681993cdc9daeb0f799b87c5">fc::http::detail::asio_with_stub_log::concurrency_type</a></div><div class="ttdeci">base::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00067">websocket.cpp:67</a></div></div>
<div class="ttc" id="classfc_1_1promise_html_aea1eedc4d2baf928b35a69eba569cdd2"><div class="ttname"><a href="classfc_1_1promise.html#aea1eedc4d2baf928b35a69eba569cdd2">fc::promise::create</a></div><div class="ttdeci">static ptr create(const char *desc FC_TASK_NAME_DEFAULT_ARG)</div><div class="ttdef"><b>Definition:</b> <a href="future_8hpp_source.html#l00114">future.hpp:114</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_ada00b691b9a3c9661881a9a00aa7b169"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada00b691b9a3c9661881a9a00aa7b169">fc::http::detail::asio_with_stub_log::message_type</a></div><div class="ttdeci">base::message_type message_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00072">websocket.cpp:72</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_a66f2144b15d29736ee6ad86c7b29bc03"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a66f2144b15d29736ee6ad86c7b29bc03">fc::http::detail::generic_websocket_client_impl::~generic_websocket_client_impl</a></div><div class="ttdeci">virtual ~generic_websocket_client_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00501">websocket.cpp:501</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a992e42d113382d3653cd3e273041ceba"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a992e42d113382d3653cd3e273041ceba">fc::http::detail::asio_tls_stub_log::response_type</a></div><div class="ttdeci">base::response_type response_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00149">websocket.cpp:149</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_ab07a2c6c315237ece7b36793c0f11270"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#ab07a2c6c315237ece7b36793c0f11270">fc::http::detail::generic_websocket_client_impl::_hdl</a></div><div class="ttdeci">fc::optional&lt; connection_hdl &gt; _hdl</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00548">websocket.cpp:548</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_aaf9d3552aff49e6b6e0155cfc196c85f"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aaf9d3552aff49e6b6e0155cfc196c85f">fc::http::detail::asio_tls_with_stub_log::transport_type</a></div><div class="ttdeci">websocketpp::transport::asio::endpoint&lt; transport_config &gt; transport_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00130">websocket.cpp:130</a></div></div>
<div class="ttc" id="elasticsearch__plugin_8cpp_html_a94e56764b51fc45f5ff625a6cb26cf63"><div class="ttname"><a href="elasticsearch__plugin_8cpp.html#a94e56764b51fc45f5ff625a6cb26cf63">response</a></div><div class="ttdeci">const auto response</div><div class="ttdef"><b>Definition:</b> <a href="elasticsearch__plugin_8cpp_source.html#l00563">elasticsearch_plugin.cpp:563</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html_a61ae9052f36d722a89bd821a6a3f2ffe"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#a61ae9052f36d722a89bd821a6a3f2ffe">fc::http::detail::asio_tls_stub_log::transport_config::alog_type</a></div><div class="ttdeci">type::alog_type alog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00162">websocket.cpp:162</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a00f74a98bb4a4f7d9e25699a13501703"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a00f74a98bb4a4f7d9e25699a13501703">fc::http::detail::asio_tls_stub_log::type</a></div><div class="ttdeci">asio_tls_stub_log type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00143">websocket.cpp:143</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html">fc::http::detail::asio_tls_stub_log::transport_config</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00160">websocket.cpp:160</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__server__impl_html_a4fbc27486905cd395cc534e090be6a05"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html#a4fbc27486905cd395cc534e090be6a05">fc::http::detail::websocket_server_impl::~websocket_server_impl</a></div><div class="ttdeci">virtual ~websocket_server_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00410">websocket.cpp:410</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_ad6a0e14beb9573c012122832cd065f8d"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#ad6a0e14beb9573c012122832cd065f8d">fc::http::detail::asio_with_stub_log::transport_config::alog_type</a></div><div class="ttdeci">type::alog_type alog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00083">websocket.cpp:83</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_ab51f1d7050a591f36026da5976b5c4c1"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab51f1d7050a591f36026da5976b5c4c1">fc::http::detail::asio_tls_stub_log::concurrency_type</a></div><div class="ttdeci">base::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00146">websocket.cpp:146</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html_aa949cbea45c52b0a0db014b2fc551355"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#aa949cbea45c52b0a0db014b2fc551355">fc::http::detail::asio_tls_with_stub_log::transport_config::socket_type</a></div><div class="ttdeci">websocketpp::transport::asio::tls_socket::endpoint socket_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00127">websocket.cpp:127</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_acdc34b5e5da116fb494fd69c4ef1795b"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#acdc34b5e5da116fb494fd69c4ef1795b">fc::http::detail::generic_websocket_server_impl::_server_socket_closed</a></div><div class="ttdeci">fc::promise&lt; void &gt;::ptr _server_socket_closed</div><div class="ttdoc">Promise to wait for the server socket to be closed. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00398">websocket.cpp:398</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html_ac0b2f5e25434813ca37a2091ae5b5db4"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ac0b2f5e25434813ca37a2091ae5b5db4">fc::http::detail::asio_tls_stub_log::transport_config::elog_type</a></div><div class="ttdeci">type::elog_type elog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00163">websocket.cpp:163</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html">fc::http::detail::asio_with_stub_log::transport_config</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00081">websocket.cpp:81</a></div></div>
<div class="ttc" id="namespacefc_html_a5b0327526feaf964512d20b8be2274f3"><div class="ttname"><a href="namespacefc.html#a5b0327526feaf964512d20b8be2274f3">fc::wait</a></div><div class="ttdeci">T wait(boost::signals2::signal&lt; void(T)&gt; &amp;sig, const microseconds &amp;timeout_us=microseconds::maximum())</div><div class="ttdef"><b>Definition:</b> <a href="signals_8hpp_source.html#l00038">signals.hpp:38</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_ac86c5d931e243915bb7969f5fd401181"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#ac86c5d931e243915bb7969f5fd401181">fc::http::websocket_tls_server::listen</a></div><div class="ttdeci">void listen(uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00690">websocket.cpp:690</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html_a64b994b0ff5ae1c04f99bd2a20a4a2c7"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a64b994b0ff5ae1c04f99bd2a20a4a2c7">fc::http::detail::websocket_connection_impl::_ws_connection</a></div><div class="ttdeci">T _ws_connection</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00212">websocket.cpp:212</a></div></div>
<div class="ttc" id="optional_8hpp_html"><div class="ttname"><a href="optional_8hpp.html">optional.hpp</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_ad6b3903ec5f98f3d8bc2ffbe196cd0bb"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#ad6b3903ec5f98f3d8bc2ffbe196cd0bb">fc::http::websocket_server::get_listening_port</a></div><div class="ttdeci">uint16_t get_listening_port()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00655">websocket.cpp:655</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_aa0e0ac76625973df042e8d8a58004008"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aa0e0ac76625973df042e8d8a58004008">fc::http::detail::asio_tls_with_stub_log::concurrency_type</a></div><div class="ttdeci">base::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00107">websocket.cpp:107</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a5fa8ec074158fe664cf1c24bc49a3cd0"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a5fa8ec074158fe664cf1c24bc49a3cd0">fc::http::detail::asio_tls_with_stub_log::alog_type</a></div><div class="ttdeci">websocketpp::log::stub alog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00117">websocket.cpp:117</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_a9f3288e834166fec4e55240f8661c5f5"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#a9f3288e834166fec4e55240f8661c5f5">fc::http::websocket_server::~websocket_server</a></div><div class="ttdeci">~websocket_server()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00638">websocket.cpp:638</a></div></div>
<div class="ttc" id="namespacefc_1_1http_1_1detail_html_a254e3f6f90c4d21da1a0c19ded1f8cf4"><div class="ttname"><a href="namespacefc_1_1http_1_1detail.html#a254e3f6f90c4d21da1a0c19ded1f8cf4">fc::http::detail::context_ptr</a></div><div class="ttdeci">websocketpp::lib::shared_ptr&lt; boost::asio::ssl::context &gt; context_ptr</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00237">websocket.cpp:237</a></div></div>
<div class="ttc" id="reflect_2variant_8hpp_html"><div class="ttname"><a href="reflect_2variant_8hpp.html">variant.hpp</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_aaf52dcd9340e25dd734ec40889ee45d4"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aaf52dcd9340e25dd734ec40889ee45d4">fc::http::detail::asio_with_stub_log::permessage_deflate_type</a></div><div class="ttdeci">websocketpp::extensions::permessage_deflate::disabled&lt; permessage_deflate_config &gt; permessage_deflate_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00099">websocket.cpp:99</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_aa623222d46cb4e2bb1037727db5a5318"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#aa623222d46cb4e2bb1037727db5a5318">fc::http::detail::asio_tls_stub_log::message_type</a></div><div class="ttdeci">base::message_type message_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00151">websocket.cpp:151</a></div></div>
<div class="ttc" id="asio_8hpp_html"><div class="ttname"><a href="asio_8hpp.html">asio.hpp</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__server__impl_html_a312acca6733fd99fb56619df99eb067b"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__server__impl.html#a312acca6733fd99fb56619df99eb067b">fc::http::detail::websocket_server_impl::websocket_server_impl</a></div><div class="ttdeci">websocket_server_impl(const std::string &amp;forward_header_key)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00406">websocket.cpp:406</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_aed014f55d8bf2f6d1bbd35013dd71b60"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aed014f55d8bf2f6d1bbd35013dd71b60">fc::http::detail::generic_websocket_server_impl::_all_connections_closed</a></div><div class="ttdeci">fc::promise&lt; void &gt;::ptr _all_connections_closed</div><div class="ttdoc">Promise to wait for all connections to be closed. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00397">websocket.cpp:397</a></div></div>
<div class="ttc" id="classfc_1_1exception_html"><div class="ttname"><a href="classfc_1_1exception.html">fc::exception</a></div><div class="ttdoc">Used to generate a useful error report when an exception is thrown.At each level in the stack where t...</div><div class="ttdef"><b>Definition:</b> <a href="exception_8hpp_source.html#l00056">exception.hpp:56</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html">fc::http::detail::asio_tls_with_stub_log</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00102">websocket.cpp:102</a></div></div>
<div class="ttc" id="json_8hpp_html"><div class="ttname"><a href="json_8hpp.html">json.hpp</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html">fc::http::detail::generic_websocket_server_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00242">websocket.cpp:242</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_ac94411301c08dc767e21819c24e31695"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#ac94411301c08dc767e21819c24e31695">fc::http::detail::generic_websocket_server_impl::~generic_websocket_server_impl</a></div><div class="ttdeci">virtual ~generic_websocket_server_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00356">websocket.cpp:356</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html">fc::http::detail::possibly_proxied_websocket_connection</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00216">websocket.cpp:216</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection_html_a7c5bb77f64075564998da1ab02cdb9b3"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html#a7c5bb77f64075564998da1ab02cdb9b3">fc::http::detail::possibly_proxied_websocket_connection::~possibly_proxied_websocket_connection</a></div><div class="ttdeci">virtual ~possibly_proxied_websocket_connection()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00232">websocket.cpp:232</a></div></div>
<div class="ttc" id="namespacefc_1_1http_html_a96e5e4ed3917cb7612daed1cab3d4452"><div class="ttname"><a href="namespacefc_1_1http.html#a96e5e4ed3917cb7612daed1cab3d4452">fc::http::connection_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; connection &gt; connection_ptr</div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00078">connection.hpp:78</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html_ab545ba32f3faa52def1377ef7f58ae83"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ab545ba32f3faa52def1377ef7f58ae83">fc::http::detail::asio_tls_stub_log::transport_config::response_type</a></div><div class="ttdeci">type::response_type response_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00165">websocket.cpp:165</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html_ad85d6bbe185eaefdc5bc020d5595e844"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#ad85d6bbe185eaefdc5bc020d5595e844">fc::http::detail::websocket_connection_impl::~websocket_connection_impl</a></div><div class="ttdeci">virtual ~websocket_connection_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00191">websocket.cpp:191</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_a66f43ace76bfd7a523d4b7a362ff87b3"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#a66f43ace76bfd7a523d4b7a362ff87b3">fc::http::websocket_tls_server::on_connection</a></div><div class="ttdeci">void on_connection(const on_connection_handler &amp;handler)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00685">websocket.cpp:685</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1permessage__deflate__config_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1permessage__deflate__config.html">fc::http::detail::asio_with_stub_log::permessage_deflate_config</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00093">websocket.cpp:93</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_a824120a2bf80e7f653922fad1f70c2c0"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a824120a2bf80e7f653922fad1f70c2c0">fc::http::detail::generic_websocket_server_impl::_on_connection</a></div><div class="ttdeci">on_connection_handler _on_connection</div><div class="ttdoc">A handler to be called when a new connection is accepted. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00396">websocket.cpp:396</a></div></div>
<div class="ttc" id="namespacefc_html_a1bf3875d7e931362d181f93f3e2f4ec0"><div class="ttname"><a href="namespacefc.html#a1bf3875d7e931362d181f93f3e2f4ec0">fc::cout</a></div><div class="ttdeci">cout_t &amp; cout</div><div class="ttdef"><b>Definition:</b> <a href="iostream_8cpp_source.html#l00175">iostream.cpp:175</a></div></div>
<div class="ttc" id="logger_8hpp_html_a1759e5c9691d8ad754bdf5eff8bb23ac"><div class="ttname"><a href="logger_8hpp.html#a1759e5c9691d8ad754bdf5eff8bb23ac">wlog</a></div><div class="ttdeci">#define wlog(FORMAT,...)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8hpp_source.html#l00123">logger.hpp:123</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_ab18d533ece0b25807661e9d8e09aad6b"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#ab18d533ece0b25807661e9d8e09aad6b">fc::http::detail::asio_tls_with_stub_log::permessage_deflate_type</a></div><div class="ttdeci">websocketpp::extensions::permessage_deflate::disabled&lt; permessage_deflate_config &gt; permessage_deflate_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00139">websocket.cpp:139</a></div></div>
<div class="ttc" id="classfc_1_1thread_html"><div class="ttname"><a href="classfc_1_1thread.html">fc::thread</a></div><div class="ttdef"><b>Definition:</b> <a href="thread_8hpp_source.html#l00039">thread.hpp:39</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl_html_a19531f314c6f6d245a8ed6f083a78f6c"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html#a19531f314c6f6d245a8ed6f083a78f6c">fc::http::detail::websocket_tls_server_impl::~websocket_tls_server_impl</a></div><div class="ttdeci">virtual ~websocket_tls_server_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00443">websocket.cpp:443</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_a0e81ec85a9a677aa112ad37a7b747e17"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#a0e81ec85a9a677aa112ad37a7b747e17">fc::http::websocket_server::on_connection</a></div><div class="ttdeci">void on_connection(const on_connection_handler &amp;handler)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00640">websocket.cpp:640</a></div></div>
<div class="ttc" id="namespacefc_1_1http_html_a530cf9528ae810584e918888da48f53d"><div class="ttname"><a href="namespacefc_1_1http.html#a530cf9528ae810584e918888da48f53d">fc::http::websocket_connection_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; websocket_connection &gt; websocket_connection_ptr</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8hpp_source.html#l00047">websocket.hpp:47</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_aae332c0d1219c5755d1af658b9da274d"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#aae332c0d1219c5755d1af658b9da274d">fc::http::detail::generic_websocket_client_impl::connect</a></div><div class="ttdeci">websocket_connection_ptr connect(const std::string &amp;uri, const fc::http::headers &amp;headers)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00512">websocket.cpp:512</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl_html_a9806cd2fbdbab221a844eab524c533a5"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a9806cd2fbdbab221a844eab524c533a5">fc::http::detail::websocket_tls_client_impl::setup_peer_verify</a></div><div class="ttdeci">void setup_peer_verify(context_ptr &amp;ctx, const std::string &amp;ca_filename)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00612">websocket.cpp:612</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_aa41c5f5d62487732e7dd32c4c8cc8881"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aa41c5f5d62487732e7dd32c4c8cc8881">fc::http::detail::generic_websocket_server_impl::_server</a></div><div class="ttdeci">websocketpp::server&lt; T &gt; _server</div><div class="ttdoc">The server. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00395">websocket.cpp:395</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_a34e33de8ed7141c4f541fb09087f49d9"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#a34e33de8ed7141c4f541fb09087f49d9">fc::http::websocket_server::websocket_server</a></div><div class="ttdeci">websocket_server(const std::string &amp;forward_header_key)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00636">websocket.cpp:636</a></div></div>
<div class="ttc" id="classfc_1_1optional_html"><div class="ttname"><a href="classfc_1_1optional.html">fc::optional&lt; connection_hdl &gt;</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_afdec4829054da0307b13b3d53caebb6a"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#afdec4829054da0307b13b3d53caebb6a">fc::http::detail::asio_with_stub_log::rng_type</a></div><div class="ttdeci">base::rng_type rng_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00079">websocket.cpp:79</a></div></div>
<div class="ttc" id="classfc_1_1ip_1_1endpoint_html_a79bd7249adbd2e864d25c07988b875e4"><div class="ttname"><a href="classfc_1_1ip_1_1endpoint.html#a79bd7249adbd2e864d25c07988b875e4">fc::ip::endpoint::get_address</a></div><div class="ttdeci">const address &amp; get_address() const </div><div class="ttdef"><b>Definition:</b> <a href="ip_8cpp_source.html#l00072">ip.cpp:72</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl_html_a35bf14aac70beae04db3e949e4bcb338"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a35bf14aac70beae04db3e949e4bcb338">fc::http::detail::websocket_tls_client_impl::get_host</a></div><div class="ttdeci">std::string get_host() const </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00607">websocket.cpp:607</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_a5be4919ddde517477acb81e13cc3826d"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a5be4919ddde517477acb81e13cc3826d">fc::http::detail::asio_with_stub_log::elog_type</a></div><div class="ttdeci">websocketpp::log::stub elog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00076">websocket.cpp:76</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_a045cbe13660fe9878eae302ec6d32ff9"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#a045cbe13660fe9878eae302ec6d32ff9">fc::http::websocket_server::stop_listening</a></div><div class="ttdeci">void stop_listening()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00665">websocket.cpp:665</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_a416911763da8b579fb285fabdd1a63a7"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a416911763da8b579fb285fabdd1a63a7">fc::http::detail::generic_websocket_client_impl::_closed</a></div><div class="ttdeci">fc::promise&lt; void &gt;::ptr _closed</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00543">websocket.cpp:543</a></div></div>
<div class="ttc" id="namespacefc_html_a15170d1be1e682691dfe6ae09790edce"><div class="ttname"><a href="namespacefc.html#a15170d1be1e682691dfe6ae09790edce">fc::exception_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; exception &gt; exception_ptr</div><div class="ttdef"><b>Definition:</b> <a href="exception_8hpp_source.html#l00131">exception.hpp:131</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_a928b56ef5e0ff7e6a3fa47b0f885c90f"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a928b56ef5e0ff7e6a3fa47b0f885c90f">fc::http::detail::generic_websocket_client_impl::generic_websocket_client_impl</a></div><div class="ttdeci">generic_websocket_client_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00452">websocket.cpp:452</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__client_html_a7f75e7a0708fb2e1cbd459432ff9445a"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#a7f75e7a0708fb2e1cbd459432ff9445a">fc::http::websocket_client::secure_connect</a></div><div class="ttdeci">websocket_connection_ptr secure_connect(const std::string &amp;uri)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00745">websocket.cpp:745</a></div></div>
<div class="ttc" id="logger_8hpp_html_a4d1a1f9c3a9f914e9eb0363d72e5fff0"><div class="ttname"><a href="logger_8hpp.html#a4d1a1f9c3a9f914e9eb0363d72e5fff0">wdump</a></div><div class="ttdeci">#define wdump(SEQ)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8hpp_source.html#l00174">logger.hpp:174</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_abf17f51787a9c0455999609bbcb23a1c"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#abf17f51787a9c0455999609bbcb23a1c">fc::http::detail::asio_with_stub_log::endpoint_msg_manager_type</a></div><div class="ttdeci">base::endpoint_msg_manager_type endpoint_msg_manager_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00074">websocket.cpp:74</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_a60fca1c1c06b5ea3d3d461d40965679d"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a60fca1c1c06b5ea3d3d461d40965679d">fc::http::detail::asio_with_stub_log::base</a></div><div class="ttdeci">asio base</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00065">websocket.cpp:65</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__client_html_a4593392c61e3437596cef9b8300d34f3"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#a4593392c61e3437596cef9b8300d34f3">fc::http::websocket_client::~websocket_client</a></div><div class="ttdeci">~websocket_client()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00729">websocket.cpp:729</a></div></div>
<div class="ttc" id="websocket_8hpp_html"><div class="ttname"><a href="websocket_8hpp.html">websocket.hpp</a></div></div>
<div class="ttc" id="logger_8hpp_html_a26aaf645dd9dc96836635d6b18bd1090"><div class="ttname"><a href="logger_8hpp.html#a26aaf645dd9dc96836635d6b18bd1090">edump</a></div><div class="ttdeci">#define edump(SEQ)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8hpp_source.html#l00182">logger.hpp:182</a></div></div>
<div class="ttc" id="classfc_1_1ip_1_1endpoint_html_a031fb6cd55f0e9abc5d78163ce88a19f"><div class="ttname"><a href="classfc_1_1ip_1_1endpoint.html#a031fb6cd55f0e9abc5d78163ce88a19f">fc::ip::endpoint::port</a></div><div class="ttdeci">uint16_t port() const </div><div class="ttdef"><b>Definition:</b> <a href="ip_8cpp_source.html#l00071">ip.cpp:71</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a88e4c454cc1aa0b339c8674b39be6e2f"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a88e4c454cc1aa0b339c8674b39be6e2f">fc::http::detail::asio_tls_stub_log::transport_type</a></div><div class="ttdeci">websocketpp::transport::asio::endpoint&lt; transport_config &gt; transport_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00169">websocket.cpp:169</a></div></div>
<div class="ttc" id="classfc_1_1promise_html"><div class="ttname"><a href="classfc_1_1promise.html">fc::promise</a></div><div class="ttdef"><b>Definition:</b> <a href="future_8hpp_source.html#l00109">future.hpp:109</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html_ab288034c279a673d310c79c94bda2474"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#ab288034c279a673d310c79c94bda2474">fc::http::detail::asio_tls_with_stub_log::transport_config::response_type</a></div><div class="ttdeci">type::response_type response_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00126">websocket.cpp:126</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a5e4d189581e2c48bdd1670c1f46e0883"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a5e4d189581e2c48bdd1670c1f46e0883">fc::http::detail::asio_tls_stub_log::base</a></div><div class="ttdeci">asio_tls base</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00144">websocket.cpp:144</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html_aba57be961b8a7b342bd56046a2a26666"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#aba57be961b8a7b342bd56046a2a26666">fc::http::detail::asio_tls_stub_log::transport_config::concurrency_type</a></div><div class="ttdeci">type::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00161">websocket.cpp:161</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_a1c294cea4a2fbf3bdbba7abcbdd42498"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a1c294cea4a2fbf3bdbba7abcbdd42498">fc::http::detail::generic_websocket_client_impl::_client</a></div><div class="ttdeci">websocketpp::client&lt; T &gt; _client</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00545">websocket.cpp:545</a></div></div>
<div class="ttc" id="variant_8hpp_html"><div class="ttname"><a href="variant_8hpp.html">variant.hpp</a></div></div>
<div class="ttc" id="namespacefc_1_1http_html_a033a516ca47ae9cbe33095798672033d"><div class="ttname"><a href="namespacefc_1_1http.html#a033a516ca47ae9cbe33095798672033d">fc::http::on_connection_handler</a></div><div class="ttdeci">std::function&lt; void(const websocket_connection_ptr &amp;)&gt; on_connection_handler</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8hpp_source.html#l00049">websocket.hpp:49</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a33950985ab757fb9a2bbd15f84d0c1d3"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a33950985ab757fb9a2bbd15f84d0c1d3">fc::http::detail::asio_tls_with_stub_log::request_type</a></div><div class="ttdeci">base::request_type request_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00109">websocket.cpp:109</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_aca0f41c2b685dc44269aaacac8f7755d"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#aca0f41c2b685dc44269aaacac8f7755d">fc::http::detail::asio_with_stub_log::alog_type</a></div><div class="ttdeci">websocketpp::log::stub alog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00077">websocket.cpp:77</a></div></div>
<div class="ttc" id="logger_8hpp_html_a831cf08dc63704c11fd154132c6e8bdb"><div class="ttname"><a href="logger_8hpp.html#a831cf08dc63704c11fd154132c6e8bdb">ilog</a></div><div class="ttdeci">#define ilog(FORMAT,...)</div><div class="ttdef"><b>Definition:</b> <a href="logger_8hpp_source.html#l00117">logger.hpp:117</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html_a968906bc44eceff471b8396b91b0aae8"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a968906bc44eceff471b8396b91b0aae8">fc::http::detail::websocket_connection_impl::get_request_header</a></div><div class="ttdeci">virtual std::string get_request_header(const std::string &amp;key) override</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00207">websocket.cpp:207</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_abf50fca0bd4737cbf0b603bf20f348d7"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#abf50fca0bd4737cbf0b603bf20f348d7">fc::http::websocket_tls_server::~websocket_tls_server</a></div><div class="ttdeci">~websocket_tls_server()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00683">websocket.cpp:683</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__client_html_aa4014b5f7e29f10fbf32593a09b19067"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#aa4014b5f7e29f10fbf32593a09b19067">fc::http::websocket_client::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00750">websocket.cpp:750</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__client_html_a0513ce0b2f20577c363482c97fc9767d"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#a0513ce0b2f20577c363482c97fc9767d">fc::http::websocket_client::connect</a></div><div class="ttdeci">websocket_connection_ptr connect(const std::string &amp;uri)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00731">websocket.cpp:731</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_a1db794aec77baee02aabf925b1567beb"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a1db794aec77baee02aabf925b1567beb">fc::http::detail::generic_websocket_server_impl::_connections</a></div><div class="ttdeci">con_map _connections</div><div class="ttdoc">Holds accepted connections. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00393">websocket.cpp:393</a></div></div>
<div class="ttc" id="exception_8hpp_html_a094902280cad82ad6529ebbd12a697eb"><div class="ttname"><a href="exception_8hpp.html#a094902280cad82ad6529ebbd12a697eb">FC_CAPTURE_AND_RETHROW</a></div><div class="ttdeci">#define FC_CAPTURE_AND_RETHROW(...)</div><div class="ttdef"><b>Definition:</b> <a href="exception_8hpp_source.html#l00479">exception.hpp:479</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html_a03da1dc53ca36fddc5bf880b07d16b75"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#a03da1dc53ca36fddc5bf880b07d16b75">fc::http::detail::asio_tls_stub_log::transport_config::socket_type</a></div><div class="ttdeci">websocketpp::transport::asio::tls_socket::endpoint socket_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00166">websocket.cpp:166</a></div></div>
<div class="ttc" id="exception_8hpp_html_abed525eeff3ae581be7e4e2fcd3b7bf4"><div class="ttname"><a href="exception_8hpp.html#abed525eeff3ae581be7e4e2fcd3b7bf4">FC_ASSERT</a></div><div class="ttdeci">#define FC_ASSERT(TEST,...)</div><div class="ttdoc">Checks a condition and throws an assert_exception if the test is FALSE. </div><div class="ttdef"><b>Definition:</b> <a href="exception_8hpp_source.html#l00345">exception.hpp:345</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a1c05fbe9e231de82ecc62c53f6dabed7"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a1c05fbe9e231de82ecc62c53f6dabed7">fc::http::detail::asio_with_stub_log::transport_config::request_type</a></div><div class="ttdeci">type::request_type request_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00085">websocket.cpp:85</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_ada5bfac2cc37eb0f2a3497dad5588b08"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#ada5bfac2cc37eb0f2a3497dad5588b08">fc::http::detail::asio_with_stub_log::request_type</a></div><div class="ttdeci">base::request_type request_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00069">websocket.cpp:69</a></div></div>
<div class="ttc" id="namespacefc_1_1asio_1_1tcp_html_aaaf875000d53a6ec4c33850f99fb2e88"><div class="ttname"><a href="namespacefc_1_1asio_1_1tcp.html#aaaf875000d53a6ec4c33850f99fb2e88">fc::asio::tcp::endpoint</a></div><div class="ttdeci">boost::asio::ip::tcp::endpoint endpoint</div><div class="ttdef"><b>Definition:</b> <a href="asio_8hpp_source.html#l00239">asio.hpp:239</a></div></div>
<div class="ttc" id="thread_8hpp_html"><div class="ttname"><a href="thread_8hpp.html">thread.hpp</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_acb2b293cbadeb4d599ddb7c6ab8a86e1"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#acb2b293cbadeb4d599ddb7c6ab8a86e1">fc::http::websocket_server::start_accept</a></div><div class="ttdeci">void start_accept()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00661">websocket.cpp:661</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_ab44b7a9c2a1a60f99663f12eb59b6b07"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#ab44b7a9c2a1a60f99663f12eb59b6b07">fc::http::detail::asio_tls_stub_log::alog_type</a></div><div class="ttdeci">websocketpp::log::stub alog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00156">websocket.cpp:156</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html_abc5b75dbe46831195e265621aaf82e7c"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#abc5b75dbe46831195e265621aaf82e7c">fc::http::detail::asio_tls_with_stub_log::transport_config::concurrency_type</a></div><div class="ttdeci">type::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00122">websocket.cpp:122</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_a1c5a07ecc690b8a04d706daf9b7525f7"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a1c5a07ecc690b8a04d706daf9b7525f7">fc::http::detail::generic_websocket_server_impl::_server_thread</a></div><div class="ttdeci">fc::thread &amp; _server_thread</div><div class="ttdoc">The thread that runs the server. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00394">websocket.cpp:394</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a916f497d87ae6810d665c18a2d5bd57e"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a916f497d87ae6810d665c18a2d5bd57e">fc::http::detail::asio_tls_stub_log::endpoint_msg_manager_type</a></div><div class="ttdeci">base::endpoint_msg_manager_type endpoint_msg_manager_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00153">websocket.cpp:153</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a76b2e8c2ca69bb715f5eb1e4e6935eef"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a76b2e8c2ca69bb715f5eb1e4e6935eef">fc::http::detail::asio_with_stub_log::transport_config::concurrency_type</a></div><div class="ttdeci">type::concurrency_type concurrency_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00082">websocket.cpp:82</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1permessage__deflate__config_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1permessage__deflate__config.html">fc::http::detail::asio_tls_with_stub_log::permessage_deflate_config</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00133">websocket.cpp:133</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_ac2f69eacbeb9cc8051db85cbbbbf2ff8"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#ac2f69eacbeb9cc8051db85cbbbbf2ff8">fc::http::detail::asio_tls_with_stub_log::endpoint_msg_manager_type</a></div><div class="ttdeci">base::endpoint_msg_manager_type endpoint_msg_manager_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00114">websocket.cpp:114</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1reply_html_adf846a23dce6087c1671a800fb6941e9"><div class="ttname"><a href="structfc_1_1http_1_1reply.html#adf846a23dce6087c1671a800fb6941e9">fc::http::reply::status</a></div><div class="ttdeci">int status</div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00036">connection.hpp:36</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1reply_html"><div class="ttname"><a href="structfc_1_1http_1_1reply.html">fc::http::reply</a></div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00023">connection.hpp:23</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_a1572b73d63ebd0f72ad8b12e7728b66b"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#a1572b73d63ebd0f72ad8b12e7728b66b">fc::http::websocket_tls_server::stop_listening</a></div><div class="ttdeci">void stop_listening()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00710">websocket.cpp:710</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html_aeca6830c56529f05e2da3a13fe1463b2"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#aeca6830c56529f05e2da3a13fe1463b2">fc::http::detail::asio_tls_with_stub_log::transport_config::elog_type</a></div><div class="ttdeci">type::elog_type elog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00124">websocket.cpp:124</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl_html_ab325aeb70bb8fd8c4ceef53b55540a77"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html#ab325aeb70bb8fd8c4ceef53b55540a77">fc::http::detail::websocket_tls_server_impl::websocket_tls_server_impl</a></div><div class="ttdeci">websocket_tls_server_impl(const string &amp;server_pem, const string &amp;ssl_password, const std::string &amp;forward_header_key)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00416">websocket.cpp:416</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__connection_html"><div class="ttname"><a href="classfc_1_1http_1_1websocket__connection.html">fc::http::websocket_connection</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8hpp_source.html#l00020">websocket.hpp:20</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a0a8f4f1fa6acd33291ef557113ee6806"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a0a8f4f1fa6acd33291ef557113ee6806">fc::http::detail::asio_with_stub_log::transport_config::socket_type</a></div><div class="ttdeci">websocketpp::transport::asio::basic_socket::endpoint socket_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00087">websocket.cpp:87</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html_a20c20ff7835bc794e3adeb3615899a2a"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#a20c20ff7835bc794e3adeb3615899a2a">fc::http::detail::asio_tls_with_stub_log::transport_config::alog_type</a></div><div class="ttdeci">type::alog_type alog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00123">websocket.cpp:123</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html">fc::http::detail::asio_tls_with_stub_log::transport_config</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00121">websocket.cpp:121</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html">fc::http::detail::asio_with_stub_log</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00062">websocket.cpp:62</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_aa12a18e8708ad519e3d319e268da59a7"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#aa12a18e8708ad519e3d319e268da59a7">fc::http::detail::generic_websocket_client_impl::_connection</a></div><div class="ttdeci">websocket_connection_ptr _connection</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00546">websocket.cpp:546</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html">fc::http::detail::asio_tls_stub_log</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00142">websocket.cpp:142</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config_html_a83a40c233142f9d98d7e3e8b6d128347"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log_1_1transport__config.html#a83a40c233142f9d98d7e3e8b6d128347">fc::http::detail::asio_with_stub_log::transport_config::elog_type</a></div><div class="ttdeci">type::elog_type elog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00084">websocket.cpp:84</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config_html_ab246501eec3ed74af4660a1007b66c34"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1transport__config.html#ab246501eec3ed74af4660a1007b66c34">fc::http::detail::asio_tls_stub_log::transport_config::request_type</a></div><div class="ttdeci">type::request_type request_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00164">websocket.cpp:164</a></div></div>
<div class="ttc" id="namespacefc_1_1asio_html_a25f142c1704b75ed97e1106a9c29f4b5"><div class="ttname"><a href="namespacefc_1_1asio.html#a25f142c1704b75ed97e1106a9c29f4b5">fc::asio::default_io_service</a></div><div class="ttdeci">boost::asio::io_service &amp; default_io_service()</div><div class="ttdef"><b>Definition:</b> <a href="asio_8cpp_source.html#l00182">asio.cpp:182</a></div></div>
<div class="ttc" id="namespacefc_html"><div class="ttname"><a href="namespacefc.html">fc</a></div><div class="ttdef"><b>Definition:</b> <a href="fc_2include_2fc_2api_8hpp_source.html#l00015">api.hpp:15</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_aa8ac1128bb12d54d665f72da9a1e6541"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#aa8ac1128bb12d54d665f72da9a1e6541">fc::http::detail::generic_websocket_server_impl::generic_websocket_server_impl</a></div><div class="ttdeci">generic_websocket_server_impl(const std::string &amp;forward_header_key)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00245">websocket.cpp:245</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_af995f4db3023937dcc109721e10f9463"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#af995f4db3023937dcc109721e10f9463">fc::http::detail::generic_websocket_client_impl::_uri</a></div><div class="ttdeci">std::string _uri</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00547">websocket.cpp:547</a></div></div>
<div class="ttc" id="namespacefc_1_1http_html_a4e65ca3195c247113e0bbda9063356a2"><div class="ttname"><a href="namespacefc_1_1http.html#a4e65ca3195c247113e0bbda9063356a2">fc::http::headers</a></div><div class="ttdeci">std::vector&lt; header &gt; headers</div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00021">connection.hpp:21</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_aca6af7aadf77c6f81256b70999379332"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#aca6af7aadf77c6f81256b70999379332">fc::http::detail::asio_tls_with_stub_log::message_type</a></div><div class="ttdeci">base::message_type message_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00112">websocket.cpp:112</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_ada92ab8ac16b656c5782a0ede9dba4b6"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#ada92ab8ac16b656c5782a0ede9dba4b6">fc::http::websocket_tls_server::get_listening_port</a></div><div class="ttdeci">uint16_t get_listening_port()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00700">websocket.cpp:700</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html_a3739b67ae9b67d3e1acf400f90dc6dd6"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a3739b67ae9b67d3e1acf400f90dc6dd6">fc::http::detail::websocket_connection_impl::websocket_connection_impl</a></div><div class="ttdeci">websocket_connection_impl(T con)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00186">websocket.cpp:186</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__tls__server_html_a2120d7b3d181893fd3aab5c2c0314107"><div class="ttname"><a href="classfc_1_1http_1_1websocket__tls__server.html#a2120d7b3d181893fd3aab5c2c0314107">fc::http::websocket_tls_server::websocket_tls_server</a></div><div class="ttdeci">websocket_tls_server(const std::string &amp;server_pem, const std::string &amp;ssl_password, const std::string &amp;forward_header_key)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00678">websocket.cpp:678</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a7ccce377d280f7434b9036b84e776c77"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a7ccce377d280f7434b9036b84e776c77">fc::http::detail::asio_tls_stub_log::con_msg_manager_type</a></div><div class="ttdeci">base::con_msg_manager_type con_msg_manager_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00152">websocket.cpp:152</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__server__impl.html">fc::http::detail::websocket_tls_server_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00413">websocket.cpp:413</a></div></div>
<div class="ttc" id="namespacegraphene_1_1elasticsearch_html_adf21cd61908e3405c92b74a61281dd83ad7c2229bbed0788c5a4985530c94a49b"><div class="ttname"><a href="namespacegraphene_1_1elasticsearch.html#adf21cd61908e3405c92b74a61281dd83ad7c2229bbed0788c5a4985530c94a49b">graphene::elasticsearch::all</a></div><div class="ttdef"><b>Definition:</b> <a href="elasticsearch__plugin_8hpp_source.html#l00053">elasticsearch_plugin.hpp:53</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1reply_html_a1171afefe041f9a9727299cf8fda2031"><div class="ttname"><a href="structfc_1_1http_1_1reply.html#a1171afefe041f9a9727299cf8fda2031">fc::http::reply::body_as_string</a></div><div class="ttdeci">std::string body_as_string</div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00039">connection.hpp:39</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__server_html_a4841d3477a4c057a68e1f7af4440840c"><div class="ttname"><a href="classfc_1_1http_1_1websocket__server.html#a4841d3477a4c057a68e1f7af4440840c">fc::http::websocket_server::listen</a></div><div class="ttdeci">void listen(uint16_t port)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00645">websocket.cpp:645</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__client__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__client__impl.html">fc::http::detail::websocket_client_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00551">websocket.cpp:551</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl_html_aed4c72d05f0dfd750f76516211579ba6"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#aed4c72d05f0dfd750f76516211579ba6">fc::http::detail::websocket_tls_client_impl::websocket_tls_client_impl</a></div><div class="ttdeci">websocket_tls_client_impl(const std::string &amp;ca_filename)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00557">websocket.cpp:557</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a7f75855630811b4564a8bc11764cf49b"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a7f75855630811b4564a8bc11764cf49b">fc::http::detail::asio_tls_stub_log::rng_type</a></div><div class="ttdeci">base::rng_type rng_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00158">websocket.cpp:158</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_af4d6d337482bb0a822ed03b2a67ff06a"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#af4d6d337482bb0a822ed03b2a67ff06a">fc::http::detail::asio_with_stub_log::con_msg_manager_type</a></div><div class="ttdeci">base::con_msg_manager_type con_msg_manager_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00073">websocket.cpp:73</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1permessage__deflate__config_html"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_1_1permessage__deflate__config.html">fc::http::detail::asio_tls_stub_log::permessage_deflate_config</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00172">websocket.cpp:172</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection_html_aac68e8ddd22be989ad185fa7e61e71ad"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1possibly__proxied__websocket__connection.html#aac68e8ddd22be989ad185fa7e61e71ad">fc::http::detail::possibly_proxied_websocket_connection::possibly_proxied_websocket_connection</a></div><div class="ttdeci">possibly_proxied_websocket_connection(T con, const std::string &amp;forward_header_key)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00219">websocket.cpp:219</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a5c770e22a0b5e71cde688ba68ba33210"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a5c770e22a0b5e71cde688ba68ba33210">fc::http::detail::asio_tls_with_stub_log::rng_type</a></div><div class="ttdeci">base::rng_type rng_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00119">websocket.cpp:119</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_a075b207a6d0096a73d832ae434ca7193"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#a075b207a6d0096a73d832ae434ca7193">fc::http::detail::generic_websocket_client_impl::_connected</a></div><div class="ttdeci">fc::promise&lt; void &gt;::ptr _connected</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00542">websocket.cpp:542</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl_html_a514f5d3e8fb9c0d5289d8a7b1acc6abb"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__server__impl.html#a514f5d3e8fb9c0d5289d8a7b1acc6abb">fc::http::detail::generic_websocket_server_impl::_forward_header_key</a></div><div class="ttdeci">std::string _forward_header_key</div><div class="ttdoc">A header like &quot;X-Forwarded-For&quot; (XFF) with data IP:port. </div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00400">websocket.cpp:400</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_a9cb29bb6af0b6c906e7c2fc65d9c36f6"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a9cb29bb6af0b6c906e7c2fc65d9c36f6">fc::http::detail::asio_with_stub_log::type</a></div><div class="ttdeci">asio_with_stub_log type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00064">websocket.cpp:64</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a8cca01512519b25397f37ad8bda17a7d"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a8cca01512519b25397f37ad8bda17a7d">fc::http::detail::asio_tls_with_stub_log::type</a></div><div class="ttdeci">asio_with_stub_log type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00104">websocket.cpp:104</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a3ed2ba8d52ab9e360f7ffad0bf0f4cfc"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a3ed2ba8d52ab9e360f7ffad0bf0f4cfc">fc::http::detail::asio_tls_with_stub_log::base</a></div><div class="ttdeci">asio_tls base</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00105">websocket.cpp:105</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl_html_a569039d20e52864b57a687819c94c24d"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html#a569039d20e52864b57a687819c94c24d">fc::http::detail::websocket_tls_client_impl::~websocket_tls_client_impl</a></div><div class="ttdeci">virtual ~websocket_tls_client_impl()</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00605">websocket.cpp:605</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_html_a177a938c77ac170dcfa69a43b4931084"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log.html#a177a938c77ac170dcfa69a43b4931084">fc::http::detail::asio_tls_with_stub_log::elog_type</a></div><div class="ttdeci">websocketpp::log::stub elog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00116">websocket.cpp:116</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config_html_a4080f3f6f1a3fbe415f3a7a102a62fc7"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__with__stub__log_1_1transport__config.html#a4080f3f6f1a3fbe415f3a7a102a62fc7">fc::http::detail::asio_tls_with_stub_log::transport_config::request_type</a></div><div class="ttdeci">type::request_type request_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00125">websocket.cpp:125</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html_ab1a2bcb66d3737fbc8518113808be9bc"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html#ab1a2bcb66d3737fbc8518113808be9bc">fc::http::detail::generic_websocket_client_impl::_client_thread</a></div><div class="ttdeci">fc::thread &amp; _client_thread</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00544">websocket.cpp:544</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__connection__impl_html_a4acaa8c78b8ad95b014620a62bf51227"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__connection__impl.html#a4acaa8c78b8ad95b014620a62bf51227">fc::http::detail::websocket_connection_impl::close</a></div><div class="ttdeci">virtual void close(int64_t code, const std::string &amp;reason) override</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00202">websocket.cpp:202</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1header_html"><div class="ttname"><a href="structfc_1_1http_1_1header.html">fc::http::header</a></div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00012">connection.hpp:12</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1websocket__tls__client__impl.html">fc::http::detail::websocket_tls_client_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00554">websocket.cpp:554</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1connection_html"><div class="ttname"><a href="classfc_1_1http_1_1connection.html">fc::http::connection</a></div><div class="ttdef"><b>Definition:</b> <a href="connection_8hpp_source.html#l00059">connection.hpp:59</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_a204d80e4b40f6e8120006ae2d91b5880"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a204d80e4b40f6e8120006ae2d91b5880">fc::http::detail::asio_with_stub_log::transport_type</a></div><div class="ttdeci">websocketpp::transport::asio::endpoint&lt; transport_config &gt; transport_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00090">websocket.cpp:90</a></div></div>
<div class="ttc" id="exception_8hpp_html_a327d3b5812f556b945bec03c3768f9f7"><div class="ttname"><a href="exception_8hpp.html#a327d3b5812f556b945bec03c3768f9f7">FC_EXCEPTION</a></div><div class="ttdeci">#define FC_EXCEPTION(EXCEPTION_TYPE, FORMAT,...)</div><div class="ttdef"><b>Definition:</b> <a href="exception_8hpp_source.html#l00371">exception.hpp:371</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a586e2f1b585c6d98a384e91d359acffa"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a586e2f1b585c6d98a384e91d359acffa">fc::http::detail::asio_tls_stub_log::permessage_deflate_type</a></div><div class="ttdeci">websocketpp::extensions::permessage_deflate::disabled&lt; permessage_deflate_config &gt; permessage_deflate_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00178">websocket.cpp:178</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl_html"><div class="ttname"><a href="classfc_1_1http_1_1detail_1_1generic__websocket__client__impl.html">fc::http::detail::generic_websocket_client_impl</a></div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00449">websocket.cpp:449</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__client_html_aabb767356fcd55c2e5bebee97b067cbd"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#aabb767356fcd55c2e5bebee97b067cbd">fc::http::websocket_client::append_header</a></div><div class="ttdeci">void append_header(const std::string &amp;key, const std::string &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00763">websocket.cpp:763</a></div></div>
<div class="ttc" id="classfc_1_1http_1_1websocket__client_html_af45c092b88242745c8b6798d20104126"><div class="ttname"><a href="classfc_1_1http_1_1websocket__client.html#af45c092b88242745c8b6798d20104126">fc::http::websocket_client::websocket_client</a></div><div class="ttdeci">websocket_client(const std::string &amp;ca_filename=&quot;_default&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00724">websocket.cpp:724</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__tls__stub__log_html_a1ed2870e6102356510d53bc1410b2a18"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__tls__stub__log.html#a1ed2870e6102356510d53bc1410b2a18">fc::http::detail::asio_tls_stub_log::elog_type</a></div><div class="ttdeci">websocketpp::log::stub elog_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00155">websocket.cpp:155</a></div></div>
<div class="ttc" id="structfc_1_1http_1_1detail_1_1asio__with__stub__log_html_a09520efc59da9cca2d1081f7c213f4c5"><div class="ttname"><a href="structfc_1_1http_1_1detail_1_1asio__with__stub__log.html#a09520efc59da9cca2d1081f7c213f4c5">fc::http::detail::asio_with_stub_log::response_type</a></div><div class="ttdeci">base::response_type response_type</div><div class="ttdef"><b>Definition:</b> <a href="websocket_8cpp_source.html#l00070">websocket.cpp:70</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 28 2021 10:41:39 for BitShares-Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
